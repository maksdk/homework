"use strict";window.onload=function(){var e={},t=new Image,a=document.createElement("div");a.style.display="none",document.body.appendChild(a);var n=function(a){a.target.parentNode.style.height=a.target.clientHeight-1+"px";var n=o(a.target),r=a.pageX-n.left,d=a.pageY-n.top;a.dataTransfer.dropEffect="move",a.dataTransfer.setData("text",a.target.id),a.dataTransfer.setDragImage(t,r,d),e.elem=a.target,e.elemChild=a.target.firstElementChild,e.parent=a.target.parentNode,e.style=a.target.getAttribute("style"),e.deltaX=r,e.deltaY=d,a.target.style.zIndex=9999,a.target.style.position="absolute",a.target.style.opacity="0"},r=function(e){},o=function(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}},d=function(t){t.target.setAttribute("style",e.style)},l=function(e){"inBlock"!=e.target.className&&"outBlockTitle"!=e.target.className||screen(e.target)},s=function(e){console.log(e.target.parentNode.clientHeight),console.log(e.target.parentNode.clientWidth);var t=e.target.parentNode.cloneNode(!0);a.appendChild(t);var n=o(e.target),r=e.pageX-n.left,d=e.pageY-n.top;a.style.display="block",a.style.position="absolute",a.style.left="0",a.style.top="-1000px",a.style.zIndex="-100",a.style.opacity="1",e.dataTransfer.dropEffect="move",e.dataTransfer.setData("text",e.target.id),e.dataTransfer.setDragImage(t,r,d),e.target.parentNode.style.opacity="0"},i=function(e){console.log(e)},g=function(e){},c=function(t){a.style.left=t.pageX-e.deltaX+"px",a.style.top=t.pageY-e.deltaY+"px"},p=document.querySelectorAll(".inBlock"),u=(document.querySelectorAll(".outBlock"),document.querySelectorAll(".outBlockTitle"));p.forEach(function(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",n,!1),e.addEventListener("mouseover",l,!1),e.addEventListener("dragenter",r,!1),e.addEventListener("dragend",d,!1)}),u.forEach(function(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",s,!1),e.addEventListener("drag",c,!1),e.addEventListener("mouseover",l,!1),e.addEventListener("dragenter",i,!1),e.addEventListener("dragend",g,!1)}),window.screen=function(a){html2canvas(a,{onrendered:function(a){e.img=a,t.src=a.toDataURL("image/jpeg")}})}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvbWUuanMiXSwibmFtZXMiOlsid2luZG93Iiwib25sb2FkIiwiZHJhZ09iaiIsImltZyIsIkltYWdlIiwiZWxlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsImRyYWdTdGFydCIsImUiLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiY29vcmRzIiwiZ2V0Q29vcmRzIiwiZGVsdGFYIiwicGFnZVgiLCJsZWZ0IiwiZGVsdGFZIiwicGFnZVkiLCJ0b3AiLCJkYXRhVHJhbnNmZXIiLCJkcm9wRWZmZWN0Iiwic2V0RGF0YSIsImlkIiwic2V0RHJhZ0ltYWdlIiwiZWxlbUNoaWxkIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJwYXJlbnQiLCJnZXRBdHRyaWJ1dGUiLCJ6SW5kZXgiLCJwb3NpdGlvbiIsIm9wYWNpdHkiLCJkcmFnRW50ZXIiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWU9mZnNldCIsInBhZ2VYT2Zmc2V0IiwiZHJhZ0VuZCIsInNldEF0dHJpYnV0ZSIsIm1vdXNlb3ZlciIsImNsYXNzTmFtZSIsInNjcmVlbiIsImRyYWdTdGFydE91dEJsb2NrIiwiY29uc29sZSIsImxvZyIsImNsaWVudFdpZHRoIiwiY2xvbmVOb2RlIiwiZHJhZ0VudGVyT3V0QmxvY2siLCJkcmFnRW5kT3V0QmxvY2siLCJkcmFnT3V0QmxvY2siLCJpbkJsb2NrIiwicXVlcnlTZWxlY3RvckFsbCIsIm91dEJsb2NrVGl0bGUiLCJmb3JFYWNoIiwiaXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJodG1sMmNhbnZhcyIsIm9ucmVuZGVyZWQiLCJjYW52YXMiLCJzcmMiLCJ0b0RhdGFVUkwiXSwibWFwcGluZ3MiOiJhQUFBQSxPQUFPQyxPQUFTLFdBQ2YsSUFBSUMsS0FDQUMsRUFBTSxJQUFJQyxNQUNWQyxFQUFPQyxTQUFTQyxjQUFjLE9BQ2pDRixF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QkFBaUIsWUFBYXZCLEdBQVcsR0FDOUNzQixFQUFLQyxpQkFBaUIsVUFBV2xCLEdBQVMsS0FFOUNlLEVBQWNDLFFBQVEsU0FBQ0MsR0FDdEJBLEVBQUtoQixhQUFhLFlBQWEsUUFDOUJnQixFQUFLQyxpQkFBaUIsWUFBYWIsR0FBbUIsR0FDdERZLEVBQUtDLGlCQUFpQixPQUFRTixHQUFjLEdBRTNDSyxFQUFLQyxpQkFBaUIsWUFBYWhCLEdBQVcsR0FDN0NlLEVBQUtDLGlCQUFpQixZQUFhUixHQUFtQixHQUN0RE8sRUFBS0MsaUJBQWlCLFVBQVdQLEdBQWlCLEtBR3REdEQsT0FBTytDLE9BQVMsU0FBUzFDLEdBQ3hCeUQsWUFBWXpELEdBQ1QwRCxXQUFZLFNBQVVDLEdBQ3BCOUQsRUFBUUMsSUFBTTZELEVBQ2Q3RCxFQUFJOEQsSUFBTUQsRUFBT0UsVUFBVSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuXHRsZXQgZHJhZ09iaiA9IHt9O1xyXG5cdGxldCBpbWcgPSBuZXcgSW1hZ2U7XHJcblx0bGV0IGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW0pO1xyXG5cdFx0XHJcbi8vPT09PT09PT09PT0gbGV0IG1vdXNlZG93biAgPSAoZSkgPT4ge1xyXG5cdC8vIFx0aWYgKGUud2hpY2ggIT0gMSB8fCAoZS50YXJnZXQuY2xhc3NOYW1lICE9IFwiaW5CbG9ja1wiICYmIFxyXG5cdC8vIFx0XHRlLnRhcmdldC5jbGFzc05hbWUgIT0gXCJvdXRCbG9ja1wiKSl7Y29uc29sZS5sb2coXCJyZXR1cm5cIik7cmV0dXJufVxyXG5cdC8vIFx0XHRlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIiwgXCJmYWxzZVwiKTtcclxuXHRcdFxyXG5cdC8vIFx0bGV0IHBhcmVudCA9IGUudGFyZ2V0LnBhcmVudE5vZGU7XHJcblx0Ly8gXHRcdHBhcmVudC5zdHlsZS5oZWlnaHQgPSBlLnRhcmdldC5jbGllbnRIZWlnaHQgKyBcInB4XCI7XHJcblx0Ly8gXHRsZXQgZWxlbWVudFRvRHJhZyA9IGUudGFyZ2V0O1xyXG5cdFx0XHJcblx0Ly8gXHQvLyDQutC+0L7RgNC00LjQvdCw0YLRiyDQvNGL0YjQuCDQsiDQvdCw0YfQsNC70LUg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC90LjRjy5cclxuXHQvLyBcdGxldCBzdGFydFggPSBlLmNsaWVudFgsXHJcblx0Ly8gXHQgICAgc3RhcnRZID0gZS5jbGllbnRZO1xyXG5cdFx0ICAgXHJcblx0Ly8gXHQvLyDQvdCw0YfQsNC70YzQvdGL0LUg0LrQvtC+0YDQtNC40L3QsNGC0Ysg0Y3Qu9C10LzQtdC90YLQsCwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQv9C10YDQtdC80LXRidCw0YLRjNGB0Y8uXHJcblx0Ly8gXHRsZXQgb3JpZ1ggPSBlLnRhcmdldC5vZmZzZXRMZWZ0LFxyXG5cdC8vIFx0ICAgIG9yaWdZID0gZS50YXJnZXQub2Zmc2V0VG9wO1xyXG5cdFx0ICAgXHJcblx0Ly8gXHQvLyDRgNCw0LfQvdC40YbQsCDQvNC10LbQtNGDINC60L7QvtGA0LTQuNC90LDRgtCw0LzQuCDQvNGL0YjQuCDQuCDQutC+0L7RgNC00LjQvdCw0YLQsNC80Lgg0L/QtdGA0LXRgtCw0YHQutC40LLQsNC10LzQvtCz0L4g0Y3Qu9C10LzQtdC90YLQsC5cclxuXHQvLyBcdGxldCBkZWx0YVggPSBzdGFydFggLSBvcmlnWCxcclxuXHQvLyBcdCAgICBkZWx0YVkgPSBzdGFydFkgLSBvcmlnWTtcclxuXHRcdFxyXG5cdC8vIFx0ZHJhZ09iai5lbGVtID0gZS50YXJnZXQ7XHJcblx0Ly8gXHRkcmFnT2JqLmRlbHRhWCA9IGRlbHRhWDtcclxuXHQvLyBcdGRyYWdPYmouZGVsdGFZID0gZGVsdGFZO1xyXG5cdC8vIFx0ZHJhZ09iai5wYWdlWCA9IGUucGFnZVg7XHJcblx0Ly8gXHRkcmFnT2JqLnBhZ2VZID0gZS5wYWdlWTtcclxuXHJcblx0Ly8gXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlbW92ZSwgdHJ1ZSk7XHJcblx0Ly8gXHRkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBtb3VzZXVwLCB0cnVlKTtcclxuXHQvLyB9XHJcblx0Ly8gbGV0IG1vdXNlbW92ZSA9IChlKSA9PiB7XHJcblx0XHRcclxuXHQvLyBcdGlmICggTWF0aC5hYnMoZHJhZ09iai5wYWdlWCAtIGUucGFnZVgpIDwgMyAmJiBcclxuXHQvLyBcdFx0TWF0aC5hYnMoZHJhZ09iai5wYWdlWSAtIGUucGFnZVkpIDwgMyApIHtcclxuXHQvLyAgICAgICByZXR1cm47IC8vINC90LjRh9C10LPQviDQvdC1INC00LXQu9Cw0YLRjCwg0LzRi9GI0Ywg0L3QtSDQv9C10YDQtdC00LLQuNC90YPQu9Cw0YHRjCDQtNC+0YHRgtCw0YLQvtGH0L3QviDQtNCw0LvQtdC60L5cclxuXHQvLyAgICAgfVxyXG5cdC8vICAgICBpZiAoZHJhZ09iai5lbGVtICE9IGRvY3VtZW50LmJvZHkpIHtcclxuXHRcdFx0XHJcblx0Ly8gICBcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkcmFnT2JqLmVsZW0pOyAvLyDQv9C10YDQtdC80LXRgdGC0LjRgtGMINCyIEJPRFksINC10YHQu9C4INC90LDQtNC+XHJcblx0Ly8gICAgIFx0ZHJhZ09iai5lbGVtLnN0eWxlLnpJbmRleCA9IDk5OTk7IC8vINGB0LTQtdC70LDRgtGMLCDRh9GC0L7QsdGLINGN0LvQtdC80LXQvdGCINCx0YvQuyDQvdCw0LQg0LTRgNGD0LPQuNC80LhcclxuXHQvLyBcdFx0ZHJhZ09iai5lbGVtLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuXHQvLyBcdCB9XHJcblx0Ly8gXHRkcmFnT2JqLmVsZW0uc3R5bGUubGVmdCA9IChlLmNsaWVudFggLSBkcmFnT2JqLmRlbHRhWCkgKyAxMCArIFwicHhcIjtcclxuXHQvLyAgICAgZHJhZ09iai5lbGVtLnN0eWxlLnRvcCA9IChlLmNsaWVudFkgLSBkcmFnT2JqLmRlbHRhWSkgKyAxMCArIFwicHhcIjtcclxuXHQvLyB9XHJcblx0Ly8gbGV0IG1vdXNldXAgPSAoZSkgPT4ge1xyXG5cdC8vIFx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgbW91c2V1cCwgdHJ1ZSk7XHJcblx0Ly8gXHRkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlbW92ZSwgdHJ1ZSk7XHJcblx0Ly8gfVxyXG5cdC8vIGxldCBtb3VzZW92ZXIgPSAoZSk9PntcclxuXHQvLyBcdGNvbnNvbGUubG9nKGUpXHJcblx0Ly8gfVxyXG5cclxuXHQvLyBkb2N1bWVudC5vbm1vdXNlbW92ZSAgPSAoZSkgPT4ge1xyXG5cdC8vIFx0aWYoIWRyYWdPYmouZWxlbSkge3JldHVybn1cclxuXHQvLyBcdGlmIChkcmFnT2JqLmVsZW0gIT0gZG9jdW1lbnQuYm9keSkge1xyXG5cdCAgXHRcdFxyXG5cdC8vICAgXHRcdHZhciBjb29yZHMgPSBnZXRDb29yZHMoZHJhZ09iai5lbGVtKTtcclxuXHQvLyAgICAgXHRcdGRyYWdPYmouc2hpZnRYID0gZHJhZ09iai5zdGFydFggLSBjb29yZHMubGVmdDtcclxuXHQvLyAgICAgXHRcdGRyYWdPYmouc2hpZnRZID0gZHJhZ09iai5zdGFydFkgLSBjb29yZHMudG9wO1xyXG5cclxuXHQvLyAgICAgXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHJhZ09iai5lbGVtKTsgLy8g0L/QtdGA0LXQvNC10YHRgtC40YLRjCDQsiBCT0RZLCDQtdGB0LvQuCDQvdCw0LTQvlxyXG5cdC8vICAgICBcdFx0ZHJhZ09iai5lbGVtLnN0eWxlLnpJbmRleCA9IDk5OTk7IC8vINGB0LTQtdC70LDRgtGMLCDRh9GC0L7QsdGLINGN0LvQtdC80LXQvdGCINCx0YvQuyDQvdCw0LQg0LTRgNGD0LPQuNC80LhcclxuXHQvLyBcdFx0XHRkcmFnT2JqLmVsZW0uc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG5cdC8vIFx0fVxyXG5cdC8vICBcdGRyYWdPYmouZWxlbS5zdHlsZS5sZWZ0ID0gZS5wYWdlWCAtIGRyYWdPYmouc2hpZnRYICsgJ3B4JztcclxuXHQvLyAgXHRkcmFnT2JqLmVsZW0uc3R5bGUudG9wID0gZS5wYWdlWSAtIGRyYWdPYmouc2hpZnRZICsgJ3B4JztcclxuXHJcblx0Ly8gICByZXR1cm4gZmFsc2U7XHJcblx0ICAgIFxyXG5cdC8vIH1cclxuXHQvLyBsZXQgZ2V0Q29vcmRzID0gKGVsZW0pID0+IHtcclxuXHQvLyBcdGxldCBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cdC8vIFx0cmV0dXJuIHtcclxuXHQvLyAgICAgXHR0b3A6IGJveC50b3AgKyBwYWdlWU9mZnNldCxcclxuXHQvLyAgICAgXHRsZWZ0OiBib3gubGVmdCArIHBhZ2VYT2Zmc2V0XHJcblx0Ly8gICBcdH07XHJcblx0Ly8gfVxyXG5cdC8vIGxldCBlbGVtTW92ZTtcclxuXHQvLyBsZXQgaWQ7XHJcblx0Ly8gbGV0IHBhcmVudDtcclxuXHQvLyBsZXQgZGFya0JnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkYXJrQmdcIik7XHJcblx0Ly9sZXQgb3V0QmxvY2sxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJvdXRCbG9jazFcIik7XHJcblx0XHJcblx0XHJcblx0Ly9kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIG1vdXNlbW92ZSwgdHJ1ZSk7XHJcbi8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHRcclxuXHJcblx0bGV0IGRyYWdTdGFydCA9IChlKSA9PntcclxuXHRcdGxldCBwYXJlbnQgPSBlLnRhcmdldC5wYXJlbnROb2RlO1xyXG5cdCBcdFx0cGFyZW50LnN0eWxlLmhlaWdodCA9IGUudGFyZ2V0LmNsaWVudEhlaWdodCAtIDEgKyBcInB4XCI7XHJcblx0XHRcclxuXHRcdC8vINGA0LDQt9C90LjRhtCwINC80LXQttC00YMg0LrQvtC+0YDQtNC40L3QsNGC0LDQvNC4INC80YvRiNC4INC4INC60L7QvtGA0LTQuNC90LDRgtCw0LzQuCDQv9C10YDQtdGC0LDRgdC60LjQstCw0LXQvNC+0LPQviDRjdC70LXQvNC10L3RgtCwLlxyXG5cdFx0bGV0IGNvb3JkcyA9IGdldENvb3JkcyhlLnRhcmdldCk7XHJcblx0XHRsZXQgZGVsdGFYID0gZS5wYWdlWCAtIGNvb3Jkcy5sZWZ0LFxyXG5cdFx0ICAgIGRlbHRhWSA9IGUucGFnZVkgLSBjb29yZHMudG9wO1xyXG5cclxuXHRcdGUuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7XHJcblx0XHRlLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dFwiLCBlLnRhcmdldC5pZCk7XHJcblx0XHRlLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoaW1nLCBkZWx0YVgsIGRlbHRhWSk7ICAgIFx0XHJcblx0XHRcclxuXHRcdC8v0L7QsdGM0LXQutGCIGRyYWdPYmpcclxuXHRcdGRyYWdPYmouZWxlbSA9IGUudGFyZ2V0O1xyXG5cdFx0ZHJhZ09iai5lbGVtQ2hpbGQgPSBlLnRhcmdldC5maXJzdEVsZW1lbnRDaGlsZDtcclxuXHRcdGRyYWdPYmoucGFyZW50ID0gZS50YXJnZXQucGFyZW50Tm9kZTtcclxuXHRcdGRyYWdPYmouc3R5bGUgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcclxuXHRcdGRyYWdPYmouZGVsdGFYID0gZGVsdGFYO1xyXG5cdFx0ZHJhZ09iai5kZWx0YVkgPSBkZWx0YVk7XHJcblxyXG5cdFx0ZS50YXJnZXQuc3R5bGUuekluZGV4ID0gOTk5OTtcclxuXHQgXHRlLnRhcmdldC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcblx0IFx0ZS50YXJnZXQuc3R5bGUub3BhY2l0eSA9IFwiMFwiO1xyXG5cdH1cclxuXHRsZXQgZHJhZ0VudGVyID0gKGUpID0+e1xyXG5cdFx0Ly8gaWYgKGUudGFyZ2V0ID09PSBkcmFnT2JqLmVsZW0pe3JldHVybn1cclxuXHRcdC8vIGxldCBjb29yZCA9IGdldENvb3JkcyhlLnRhcmdldCk7XHJcblx0XHQvLyBpZihNYXRoLmFicyAoY29vcmQudG9wIC0gZS5wYWdlWSkgPiAxNSl7XHJcblx0XHQvLyBcdGUudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZHJhZ09iai5wYXJlbnQsIGUudGFyZ2V0LnBhcmVudE5vZGUpO1xyXG5cdFx0Ly8gfSBlbHNlIGlmIChNYXRoLmFicyAoY29vcmQudG9wIC0gZS5wYWdlWSkgPD0gMTUpe1xyXG5cdFx0Ly8gXHRlLnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRyYWdPYmoucGFyZW50LCBlLnRhcmdldC5wYXJlbnROb2RlLm5leHRFbGVtZW50U2libGluZyk7XHJcblx0XHQvLyB9XHJcblx0fVxyXG5cclxuXHRsZXQgIGdldENvb3JkcyA9IChlbGVtKSA9PiB7IFxyXG5cdCAgdmFyIGJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblx0XHRyZXR1cm4ge1xyXG5cdCAgICB0b3A6IGJveC50b3AgKyBwYWdlWU9mZnNldCxcclxuXHQgICAgbGVmdDogYm94LmxlZnQgKyBwYWdlWE9mZnNldFxyXG5cdCAgfTtcclxuXHR9XHJcblx0bGV0IGRyYWdFbmQgPSAoZSkgPT57XHJcblx0XHRlLnRhcmdldC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBkcmFnT2JqLnN0eWxlKTtcclxuXHR9XHJcblx0bGV0IGRyYWdMZWF2ZSA9IChlKSA9PntcclxuXHR9XHJcblx0bGV0IGRyYWdPdmVyID0gKGUpID0+e1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdH1cclxuXHRsZXQgZHJhZ0Ryb3AgPSAoZSkgPT57XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0dmFyIGlkID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHRcIik7XHJcblx0XHR2YXIgZWxlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRcdGUudGFyZ2V0LmFwcGVuZENoaWxkKGVsZW0pO1xyXG5cdH1cclxuXHJcblx0bGV0IG1vdXNlb3ZlciA9IChlKSA9PntcclxuXHRcdGlmKGUudGFyZ2V0LmNsYXNzTmFtZSAhPSBcImluQmxvY2tcIiAmJiBcclxuXHRcdFx0ZS50YXJnZXQuY2xhc3NOYW1lICE9IFwib3V0QmxvY2tUaXRsZVwiKXtyZXR1cm59XHJcblx0XHRzY3JlZW4oZS50YXJnZXQpO1xyXG5cdH1cclxuXHJcblx0bGV0IGRyYWdTdGFydE91dEJsb2NrID0gKGUpPT57XHJcblx0XHRcclxuXHRcdGNvbnNvbGUubG9nKGUudGFyZ2V0LnBhcmVudE5vZGUuY2xpZW50SGVpZ2h0KVxyXG5cdFx0Y29uc29sZS5sb2coZS50YXJnZXQucGFyZW50Tm9kZS5jbGllbnRXaWR0aClcclxuXHRcdGxldCBwYXJlbnROb2RlID0gZS50YXJnZXQucGFyZW50Tm9kZS5jbG9uZU5vZGUodHJ1ZSkgO1xyXG5cdFx0ZWxlbS5hcHBlbmRDaGlsZChwYXJlbnROb2RlKTtcclxuXHRcdFxyXG5cclxuXHRcdC8vINGA0LDQt9C90LjRhtCwINC80LXQttC00YMg0LrQvtC+0YDQtNC40L3QsNGC0LDQvNC4INC80YvRiNC4INC4INC60L7QvtGA0LTQuNC90LDRgtCw0LzQuCDQv9C10YDQtdGC0LDRgdC60LjQstCw0LXQvNC+0LPQviDRjdC70LXQvNC10L3RgtCwLlxyXG5cdFx0bGV0IGNvb3JkcyA9IGdldENvb3JkcyhlLnRhcmdldCk7XHJcblx0XHRsZXQgZGVsdGFYID0gZS5wYWdlWCAtIGNvb3Jkcy5sZWZ0LFxyXG5cdFx0ICAgIGRlbHRhWSA9IGUucGFnZVkgLSBjb29yZHMudG9wO1xyXG5cdFx0XHJcblx0XHRlbGVtLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblx0XHRlbGVtLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiOyAgICBcclxuXHRcdGVsZW0uc3R5bGUubGVmdCA9IFwiMFwiO1xyXG5cdFx0ZWxlbS5zdHlsZS50b3AgPSBcIi0xMDAwcHhcIjtcclxuXHRcdC8vZWxlbS5zdHlsZS5oZWlnaHQgPSBlLnRhcmdldC5wYXJlbnROb2RlLmNsaWVudEhlaWdodCArIFwicHhcIjtcclxuXHRcdC8vZWxlbS5zdHlsZS53aWR0aCA9IGUudGFyZ2V0LnBhcmVudE5vZGUuY2xpZW50V2lkdGggKyBcInB4XCI7XHJcblx0XHQvL2VsZW0uc3R5bGUuYm9yZGVyID0gXCIycHggc29saWQgcmVkXCI7XHJcblx0XHRlbGVtLnN0eWxlLnpJbmRleCA9IFwiLTEwMFwiO1xyXG5cdFx0ZWxlbS5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcblx0XHRcclxuXHJcblx0XHRlLmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xyXG5cdFx0ZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHRcIiwgZS50YXJnZXQuaWQpO1xyXG5cdFx0ZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKHBhcmVudE5vZGUsIGRlbHRhWCwgZGVsdGFZKTsgXHJcblx0XHRlLnRhcmdldC5wYXJlbnROb2RlLnN0eWxlLm9wYWNpdHkgPSBcIjBcIjtcclxuXHR9XHJcblx0bGV0IGRyYWdFbnRlck91dEJsb2NrID0gKGUpPT57XHJcblx0XHRjb25zb2xlLmxvZyhlKVxyXG5cdH1cclxuXHRsZXQgZHJhZ0VuZE91dEJsb2NrID0gKGUpPT57XHJcblxyXG5cdH1cclxuXHRsZXQgZHJhZ091dEJsb2NrID0gKGUpPT57XHJcblx0XHQvL2NvbnNvbGUubG9nKGUpXHJcblx0XHRlbGVtLnN0eWxlLmxlZnQgPSBlLnBhZ2VYIC0gZHJhZ09iai5kZWx0YVggKyBcInB4XCI7XHJcblx0XHRlbGVtLnN0eWxlLnRvcCA9IGUucGFnZVkgLSBkcmFnT2JqLmRlbHRhWSArICBcInB4XCI7XHJcblx0fVxyXG5cdGxldCBpbkJsb2NrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5pbkJsb2NrXCIpLFxyXG5cdFx0b3V0QmxvY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm91dEJsb2NrXCIpLFxyXG5cdFx0b3V0QmxvY2tUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3V0QmxvY2tUaXRsZVwiKTtcclxuXHJcblx0XHRcclxuXHJcblx0aW5CbG9jay5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRpdGVtLnNldEF0dHJpYnV0ZSgnZHJhZ2dhYmxlJywgJ3RydWUnKTtcclxuXHQgXHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIGRyYWdTdGFydCwgZmFsc2UpO1xyXG5cdCBcdC8vaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnJywgZHJhZywgZmFsc2UpO1xyXG5cdCAgIC8vIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2Vkb3duLCBmYWxzZSk7XHJcblx0ICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBtb3VzZW92ZXIsIGZhbHNlKTtcclxuXHQgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBkcmFnRW50ZXIsIGZhbHNlKTtcclxuXHQgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgZHJhZ0VuZCwgZmFsc2UpO1xyXG5cdH0pO1xyXG5cdG91dEJsb2NrVGl0bGUuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XHJcblx0IFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCBkcmFnU3RhcnRPdXRCbG9jaywgZmFsc2UpO1xyXG5cdCBcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZycsIGRyYWdPdXRCbG9jaywgZmFsc2UpO1xyXG5cdCAgIC8vIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgbW91c2Vkb3duLCBmYWxzZSk7XHJcblx0ICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBtb3VzZW92ZXIsIGZhbHNlKTtcclxuXHQgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCBkcmFnRW50ZXJPdXRCbG9jaywgZmFsc2UpO1xyXG5cdCAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCBkcmFnRW5kT3V0QmxvY2ssIGZhbHNlKTtcclxuXHR9KTtcclxuXHJcblx0d2luZG93LnNjcmVlbiA9IGZ1bmN0aW9uKGVsZW0pe1xyXG5cdFx0aHRtbDJjYW52YXMoZWxlbSwge1xyXG4gICAgXHRvbnJlbmRlcmVkOiBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICBcdFx0XHRkcmFnT2JqLmltZyA9IGNhbnZhcztcclxuICAgIFx0XHRcdGltZy5zcmMgPSBjYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvanBlZ1wiKTtcclxuICAgIFx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxuXHRcclxuXHJcbiAgICBcclxuICAgIFxyXG5cdFxyXG5cdC8vIG91dEJsb2NrLmZvckVhY2goKGl0ZW0pID0+IHtcclxuXHQvLyBcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgZHJhZ0VudGVyLCB0cnVlKTtcclxuXHQvLyAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCBkcmFnTGVhdmUsIGZhbHNlKTtcclxuXHQvLyAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIGRyYWdPdmVyLCBmYWxzZSk7XHJcblx0Ly8gICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGRyYWdEcm9wLCBmYWxzZSk7XHJcblx0Ly8gfSk7XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
