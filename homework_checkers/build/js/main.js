"use strict";var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var CreateBoard=function(){function e(){_classCallCheck(this,e),this.parent,this.element}return _createClass(e,[{key:"findParent",value:function(e){this.parent=document.querySelector("."+e)}},{key:"createElement",value:function(e){this.element=document.createElementNS("http://www.w3.org/2000/svg",e),this.parent.appendChild(this.element)}},{key:"setAttributesSvg",value:function(e,t,r,o,i,n){this.findParent(t),this.createElement("svg"),this.element.setAttribute("height",o),this.element.setAttribute("width",r),this.element.setAttribute("x",i||0),this.element.setAttribute("y",n||0),this.element.classList.add(e)}},{key:"setAttributesRect",value:function(e,t,r,o,i,n,s,a,l){this.findParent(t),this.createElement("rect"),this.element.setAttribute("height",o),this.element.setAttribute("width",r),this.element.setAttribute("x",i||0),this.element.setAttribute("y",n||0),this.element.setAttribute("fill",s||"none"),this.element.setAttribute("stroke",a||"none"),this.element.setAttribute("stroke-width",l||0),this.element.classList.add(e)}},{key:"setAttributesText",value:function(e,t,r,o,i,n){this.findParent(t),this.createElement("text"),this.element.setAttribute("x",r),this.element.setAttribute("y",o),this.element.setAttribute("font-family","Verdana"),this.element.setAttribute("font-size",n||"14"),this.element.setAttribute("fill","#85653E"),this.element.innerHTML=i,this.element.classList.add(e)}},{key:"setAttributesCircle",value:function(e,t,r,o,i,n,s,a){this.findParent(t),this.createElement("circle"),this.element.setAttribute("cx",r),this.element.setAttribute("cy",o),this.element.setAttribute("r",i),this.element.setAttribute("fill",n),this.element.setAttribute("stroke",s),this.element.setAttribute("stroke-width","2"),this.element.classList.add(e,"slowMove"),this.element.addEventListener("click",clickCircle,!1)}},{key:"setAttributesPolyline",value:function(e,t,r,o,i){this.findParent(t),this.createElement("polyline"),this.element.setAttribute("points",r),this.element.setAttribute("stroke",o),this.element.setAttribute("stroke-width","3"),this.element.setAttribute("fill",i||"none"),this.element.setAttribute("fill-opacity",".5"),this.element.classList.add(e)}},{key:"setAttributesG",value:function(e){var t;this.findParent(e),this.createElement("g");for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(t=this.element.classList).add.apply(t,o)}}]),e}(),size=Math.floor(.8*document.documentElement.clientHeight/8);size%2?size++:size=size;var wrapper=document.querySelector(".wrapper"),create=new CreateBoard;create.setAttributesSvg("outerBoard","wrapper",11*size,9*size),create.setAttributesSvg("outerBoard__board","outerBoard",10*size,9*size,size,0),create.setAttributesRect("outerBoard__board--border","outerBoard__board",9*size,9*size,0,0,"#EDCFA9","#85653E",3),create.setAttributesRect("outerBoard__board--fill","outerBoard__board",8*size+4,8*size+5,.5*size-2,.5*size-2," #85653E"),create.setAttributesSvg("outerBoard__board__innerBoard","outerBoard__board",9.5*size,8*size,.5*size,.5*size+1);_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var CreateBoardElements=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,CreateBoard),_createClass(t,[{key:"createRects",value:function(){for(var e=void 0,t=0,r=0,o=0;o<8;o++){for(var i=0;i<8;i++)e=(o+i)%2?"#85653E":"#EDCFA9",this.setAttributesRect("outerBoard__board__innerBoard--rect","outerBoard__board__innerBoard",size,size,t,r,e),t+=size;t=0,r+=size}}},{key:"createCircles",value:function(){for(var e=1.5*size,t=size/2,r="#565455",o="#3C3B3B",i="black",n="outerBoard__board__innerBoard",s=0;s<6;s++){for(var a=0;a<4;a++)this.setAttributesCircle(i,n,e,t,size/3,r,o),this.setAttributesCircle(i,n,e,t,size/5,r,o),e+=2*size;2==s?(t=5.5*size,e=size/2,r="#D4E2CB",o="#F8FFEE",i="white"):s%2?(t+=size,e=1.5*size):(t+=size,e=size/2)}}},{key:"createBoardCoords",value:function(){var e=this,t=["a","b","c","d","e","f","g","h"];[1,2,3,4,5,6,7,8].forEach(function(r,o){var i=r,n="outerBoard__board",s="outerBoard__board--coords";e.setAttributesText(s,n,size/5-2,size*i+6,""+r),e.setAttributesText(s,n,8.7*size-2,size*i+6,""+r),e.setAttributesText(s,n,size*i-6,size/3,""+t[o]),e.setAttributesText(s,n,size*i-6,8.8*size+2,""+t[o])})}},{key:"createArrow",value:function(){var e="1,"+4.2*size+" "+.7*size+","+4.2*size+" "+.85*size+","+4.5*size+" "+.7*size+","+4.8*size+" 1,"+4.8*size+" 1,"+4.2*size;this.setAttributesG("outerBoard","slowMove","parentArrow","displayNone"),this.setAttributesPolyline("arrow","parentArrow",e,"#B04632","#B04632"),this.setAttributesText("arrow__text1","parentArrow",8,4.45*size,"white","12"),this.setAttributesText("arrow__text2","parentArrow",8,4.7*size,"move","12")}},{key:"createContainerRoute",value:function(){this.setAttributesG("outerBoard__board__innerBoard","routeParent")}},{key:"createContainerActiveRect",value:function(){this.setAttributesG("outerBoard__board__innerBoard","activeRectParent")}},{key:"createContainerHigherZindex",value:function(){this.setAttributesG("outerBoard__board__innerBoard","higherZindex")}}]),t}(),elementsBoard=new CreateBoardElements;elementsBoard.createBoardCoords(),elementsBoard.createRects(),elementsBoard.createCircles(),elementsBoard.createArrow(),elementsBoard.createContainerRoute(),elementsBoard.createContainerActiveRect(),elementsBoard.createContainerHigherZindex();_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Game=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"removeElement",value:function(e){var t=document.querySelectorAll("."+e);[].concat(_toConsumableArray(t)).forEach(function(e){e.parentNode.removeChild(e)})}},{key:"removeClass",value:function(e){var t=document.querySelectorAll("."+e);[].concat(_toConsumableArray(t)).forEach(function(t){t.classList.remove(e)})}},{key:"addClassLastMoved",value:function(e){var t=document.getElementsByClassName(""+e);[].concat(_toConsumableArray(t)).forEach(function(e){e.classList.add("lastMoved")})}},{key:"addClassActive",value:function(e,t,r){var o=document.getElementsByClassName(""+r);[].concat(_toConsumableArray(o)).forEach(function(r){var o=r.getAttribute("cx"),i=r.getAttribute("cy");o==e&&i==t&&r.classList.add("active")})}},{key:"addHigherZindex",value:function(){var e=document.querySelector(".higherZindex"),t=document.querySelectorAll(".active");[].concat(_toConsumableArray(t)).forEach(function(t){var r=t.cloneNode(!0);r.classList.add("higherZindex--circle"),e.appendChild(r)})}},{key:"createQueen",value:function(){var e=document.querySelectorAll(".active");[].concat(_toConsumableArray(e)).forEach(function(e){+e.getAttribute("r")==size/5?e.parentNode.removeChild(e):e.classList.add("queen")})}},{key:"createCloneDeletedCircle",value:function(e,t){var r=document.querySelector(".outerBoard__board__innerBoard"),o=t.cloneNode(!0);o.classList.add("cloneDelete"+e),r.appendChild(o)}},{key:"moveArrow",value:function(e){var t=document.querySelector(".parentArrow"),r=document.querySelector(".arrow__text1"),o=document.querySelector(".arrow__text2");"white"==e?t.setAttribute("style","transform: translate(0, "+2*size+"px)"):t.setAttribute("style","transform: translate(0, -"+2*size+"px)"),t.classList.remove("displayNone"),t.classList.remove("displayNone"),r.setAttribute("fill",""+e),o.setAttribute("fill",""+e),r.innerHTML=e}},{key:"gameOver",value:function(){var e=element.color[0].toUpperCase()+element.color.slice(1);document.querySelector(".popup__content--text").innerHTML=e+" won!",document.querySelector(".popup__content--btn").addEventListener("click",function(e){window.location.reload()},!1),document.querySelector(".popup").classList.remove("displayNone")}}]),e}(),element={specialMove:[],specialRemove:[],simpleMove:[]};function clickCircle(e){if(!this.classList.contains("lastMoved")){element.elem=this,element.color=this.classList.contains("white")?"white":"black";var t=this.getAttribute("cx"),r=this.getAttribute("cy"),o=!!this.classList.contains("queen"),i=new Game;i.removeElement("activeRect"),i.removeElement("route__polyline"),i.removeElement("routeCircle"),i.removeElement("higherZindex--circle"),i.removeClass("delete"),i.removeClass("active"),i.moveArrow(element.color),i.addClassActive(t,r,element.color),i.addHigherZindex(),searchMove(t,r,element.color,o)}}_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var MoveChecker=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.x_end=e.getAttribute("x"),r.y_end=e.getAttribute("y"),r.cx_end=+r.x_end+size/2,r.cy_end=+r.y_end+size/2,r.activeCircle=document.querySelectorAll(".active"),r.colorDelete="white"==element.color?"black":"white",r.index=0,r.route,r.deleteCircles,r.endGame,r.scale,r.cy_deleted,r}return _inherits(t,Game),_createClass(t,[{key:"setFinalRoute",value:function(){var e=this,t=element.coordsMove.filter(function(t){for(var r=t.length-1;r>=0;r--)if(t[r].cx==e.cx_end&&t[r].cy==e.cy_end)return t});return this.route=t[0],this.route.splice(0,1),this.route}},{key:"startMove",value:function(){var e=this,t=this.route[this.index].flag,r=this.route[this.index].cx,o=this.route[this.index].cy,i=!this.stopMove(),n=this;"move"===t||"simpleMove"===t?(this.move(r,o),this.checkQueen(o)):"delete"===t&&(this.getdeleteCircles(),this.getScale(),this.endGame=22==this.scale,this.getCyDeletedCircle(),this.deleteCircles.forEach(function(t){var i=t.getAttribute("cx"),s=t.getAttribute("cy");if(r==i&&o==s){t.classList.remove(""+e.colorDelete);var a=e.colorDelete;setTimeout(function(){n.createCloneDeletedCircle(a,t)},600),setTimeout(function(){n.deleteElem(t)},350),e.endGame&&setTimeout(function(){n.gameOver()},900)}})),++this.index<this.route.length&&i?setTimeout(function(){n.startMove()},180):(this.removeElement("activeRect"),this.removeElement("route__polyline"),this.removeElement("routeCircle"),this.removeClass("delete"),this.removeClass("active"),this.removeClass("lastMoved"),this.addClassLastMoved(element.color),this.moveArrow(this.colorDelete))}},{key:"move",value:function(e,t){[].concat(_toConsumableArray(this.activeCircle)).forEach(function(r){r.setAttribute("cx",e),r.setAttribute("cy",t)})}},{key:"deleteElem",value:function(e){e.setAttribute("cx",9*size),e.setAttribute("cy",this.cy_delete)}},{key:"checkQueen",value:function(e){(e==size/2&&"white"===element.color||e==7.5*size&&"black"===element.color)&&this.createQueen()}},{key:"getdeleteCircles",value:function(){this.deleteCircles=[].concat(_toConsumableArray(document.querySelectorAll(".delete")))}},{key:"getScale",value:function(){this.scale=24-document.querySelectorAll("."+this.colorDelete).length,this.scale%2&&--this.scale}},{key:"getCyDeletedCircle",value:function(){"black"===this.colorDelete?this.cy_delete=7.5*size-size/5*this.scale/2:this.cy_delete=size/2+size/5*this.scale/2}},{key:"stopMove",value:function(){return this.route[this.index].cx==this.cx_end&&this.route[this.index].cy==this.cy_end}}]),t}();function clickRect(e){var t=new MoveChecker(this);t.setFinalRoute(),t.startMove()}var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,i=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var DrawRoute=function(e){function t(e,r,o,i){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.simpleMoveCoords=[],n}return _inherits(t,CreateBoard),_createClass(t,[{key:"drawRouteCircles",value:function(e,t,r,o,i){this.setAttributesCircle("routeCircle","routeParent",e,t,size/7,r,o,1),this.element.classList.remove("slowMove"),this.element.removeEventListener("click",clickCircle,!1)}},{key:"drawRoutePolylines",value:function(e,t){this.setAttributesPolyline("route__polyline","routeParent",e,t)}},{key:"drawRouteRect",value:function(e,t,r){this.setAttributesRect("activeRect","activeRectParent",size,size,e,t,"#B04632",r,3),this.element.addEventListener("click",clickRect,!1)}},{key:"findAndSortCoords",value:function(e,t,r,o){var i=this;["topLeft","topRigth","lowLeft","lowRigth"].forEach(function(n){var s=findCoords(e,t,r,n,o,!0),a=_slicedToArray(s,3),l=a[0],c=a[1],u=a[2];element.specialRemove.length&&(c=element.specialRemove,l=element.specialMove,element.specialRemove=[],element.specialMove=[]),c.length?sortCoords(c,l,0,0,0):u.length&&i.simpleMoveCoords.push(u)})}},{key:"setSimpleMoveCoords",value:function(){element.coordsMove.length||this.simpleMoveCoords.forEach(function(e){element.coordsMove.push(e)})}},{key:"drawElementsRoute",value:function(){var e=this,t=element.elem.getAttribute("stroke");element.coordsMove.forEach(function(r){var o=[];r.forEach(function(r){o.push(r.cx+","+r.cy),"move"==r.flag&&e.drawRouteCircles(r.cx,r.cy,t,t)});var i=o.join(" ");e.drawRoutePolylines(i,t);for(var n=r.length-1;n>0&&"delete"!==r[n].flag;n--){var s=r[n].cx-size/2,a=r[n].cy-size/2;e.drawRouteRect(s,a,t)}})}}]),t}();function searchMove(e,t,r,o){element.coordsMove=[];var i=new DrawRoute;i.findAndSortCoords(e,t,r,o),i.setSimpleMoveCoords(),i.drawElementsRoute()}_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,i=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw n}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function findCoords(e,t,r,o,i,n,s,a,l,c){null==a&&(s=[],l=[],pushCoordsInArr(+e,+t,"move",a=[]));var u=setCoords(e,t,o),h=_slicedToArray(u,5),f=h[0],d=h[1],v=h[2],m=h[3],y=h[4],b=findNextElem(f,d);if("free"==b&&(i||r==y)&&null==c)l.length||pushCoordsInArr(+e,+t,"startMove",l),pushCoordsInArr(f,d,"simpleMove",l),i&&findCoords(f,d,r,o,i,null,s,a,l,c);else if("black"==b&&"white"==r||"white"==b&&"black"==r){var p=setCoords(f,d,o),C=_slicedToArray(p,2),_=findNextElem(C[0],C[1]),A=searchSimilarDelete(f,d,s);if("free"==_&&!A){var g=specialCheckRemove(s,f,d);if(g){var w=specialSortRemove(s,a,f,d),z=_slicedToArray(w,2);s=z[0],a=z[1]}pushCoordsInArr(f,d,"delete",s),addClassDelete(f,d),findCoords(f,d,r,o,i,null,s,a,l,c=!0),g&&(element.specialMove=a,element.specialRemove=s)}}else if("free"==b&&null!=c){pushCoordsInArr(f,d,"move",a);var k=setCoords(f,d,o),x=_slicedToArray(k,2),E=findNextElem(x[0],x[1]);d!=size/2&&d!=7.5*size||(i=!0),("free"!=E||i)&&findCoords(f,d,r,o,i,null,s,a,l,c),findCoords(f,d,r,v,i,null,s,a,l),findCoords(f,d,r,m,i,null,s,a,l)}return[a,s,l]}function setCoords(e,t,r){var o=void 0,i=void 0,n=void 0;return"topLeft"===r?(e=Math.floor(+e-size),t=Math.floor(+t-size),o="topRigth",i="lowLeft",n="white"):"topRigth"===r?(e=Math.floor(+e+size),t=Math.floor(+t-size),o="topLeft",i="lowRigth",n="white"):"lowLeft"===r?(e=Math.floor(+e-size),t=Math.floor(+t+size),o="topLeft",i="lowRigth",n="black"):"lowRigth"===r&&(e=Math.floor(+e+size),t=Math.floor(+t+size),o="topRigth",i="lowLeft",n="black"),[e,t,o,i,n]}function pushCoordsInArr(e,t,r,o){var i={cx:e,cy:t,flag:r};return o.push(i),o}function findNextElem(e,t){if(!validCoord(e,t))return!1;var r="free",o=[].concat(_toConsumableArray(document.querySelectorAll("circle")));e:for(var i=0;i<o.length;i++){var n=o[i].getAttribute("cx"),s=o[i].getAttribute("cy"),a=o[i].classList.contains("white")?"white":"black";if(n==e&&s==t&&"white"===a){r="white";break e}if(n==e&&s==t&&"black"===a){r="black";break e}}return r}function validCoord(e,t){return 0<=e&&e<=8*size&&0<=t&&t<=8*size}function searchSimilarDelete(e,t,r){var o=!1;return r.forEach(function(r){if(r.cx==e&&r.cy==t)return o=!0}),o}function addClassDelete(e,t){var r=document.querySelectorAll("circle");[].concat(_toConsumableArray(r)).forEach(function(r){var o=r.getAttribute("cx"),i=r.getAttribute("cy");o==e&&i==t&&r.classList.add("delete")})}function specialCheckRemove(e,t,r){for(var o=void 0,i=0;i<e.length&&!(o=Math.abs(e[i].cx-t)==size&&Math.abs(e[i].cy-r)==size);i++);return o}function specialSortRemove(e,t,r,o){sortCoords(e,t,0,0,0);var i=JSON.parse(JSON.stringify(element.coordsMove));e:for(var n=0;n<i.length;n++)for(var s=i[n],a=0;a<s.length;a++){if(s[a].cx-r==size&&s[a].cy-o==size){var l=s.slice(0,a-1);e=[],t=[];for(var c=0;c<l.length;c++)"move"==l[c].flag?t.push(l[c]):"delete"==l[c].flag&&e.push(l[c]);break e}}return[e,t]}function sortCoords(e,t,r,o,i,n,s,a){if(!(r<0||o<0||r+1>=t.length||o+1>e.length)){null==a&&(a=[]);var l=t[r].cx,c=t[r].cy,u=t[r+1].cx,h=t[r+1].cy,f=e[o].cx,d=e[o].cy,v=u-l>0?u-size:u+size,m=h-c>0?h-size:h+size,y=void 0,b=void 0;if(r>=1){var p=t[r-1].cx,C=t[r-1].cy;u-l>0?(v=u-size,y=l<=p):(v=u+size,y=l>=p),h-c>0?(m=h-size,b=c<=C):(m=h+size,b=c>=C)}var _=Math.abs(l-u)==size&&Math.abs(c-h)==size,A=v==f&&m==d&&Math.abs(l-u)==Math.abs(c-h)&&(1!=y||1!=b);if(a.length>0&&1==n)var g="delete"==a[a.length-1-i].flag;if(g&&(element.coordsMove.push(a),e.splice(o-1,1),o-=1,a=[],n=!1,i=0),A){if(0==a.length)for(var w=0;w<r;w++){var z=t[w];a.push(z),o>w&&(z=e[w],a.push(z))}if(e.length==o+1){if(n&&i&&!g){var k=a.length-i-1;a.splice(k,i+1)}z=t.slice(r,r+1);if(a.push(z[0]),z=e.slice(o,o+1),a.push(z[0]),t.length-1>r)for(w=r+1;w<t.length;w++)a.push(t[w]);element.coordsMove.push(a)}else{if(n&&i&&!g){k=a.length-i-1;a.splice(k,i+1)}z=t.slice(r,r+1);a.push(z[0]),z=e.slice(o,o+1),a.push(z[0]),sortCoords(e,t,r+1,o+1,0,!1,!1,a)}}else if(_){z=t.slice(r,r+1);a.push(z[0]),sortCoords(e,t,r+1,o,i,!0,!1,a)}else if(!A){if(1==n){if(0==i){z=t.slice(r,r+1);a.push(z[0])}t.splice(r,1),sortCoords(e,t,r-1,o,i+1,!0,!1,a)}else if(a.length>0){z=t.slice(r,r+1);a.push(z[0]),element.coordsMove.push(a)}0==n&&0==s?(t.splice(r,1),e.splice(o-1,1),sortCoords(e,t,r-1,o-1,0,!1,!0,a=[])):(t.splice(r,1),sortCoords(e,t,r-1,o,0,!1,!0,a=[]))}}}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFfY3JlYXRlQm9hcmQuanMiLCJiX2NyZWF0ZUJvYXJkRWxlbWVudHMuanMiLCJjX2NsYXNzR2FtZS5qcyIsImRfY2xpY2tDaXJjbGVzLmpzIiwiZV9tb3ZlQ2hlY2tlcnMuanMiLCJmX3NlYXJjaE1vdmUuanMiLCJnX2ZpbmRDb29yZHMuanMiLCJoX3NvcnRDb29yZHMuanMiXSwibmFtZXMiOlsiQ3JlYXRlQm9hcmQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwicGFyZW50IiwiZWxlbWVudCIsImNsYXNzRWxlbSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRhZyIsImNyZWF0ZUVsZW1lbnROUyIsImFwcGVuZENoaWxkIiwid2lkdGgiLCJoZWlnaHQiLCJ4IiwieSIsImZpbmRQYXJlbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwiZmlsbCIsInN0cm9rZSIsInN0cm9rZVdpZHRoIiwiaW5uZXJUZXh0IiwiZm9udFNpemUiLCJpbm5lckhUTUwiLCJjb2xvckNsYXNzIiwiY3giLCJjeSIsInIiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpY2tDaXJjbGUiLCJwb2ludHMiLCJfZWxlbWVudCRjbGFzc0xpc3QiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiY2xhc3NlcyIsIkFycmF5IiwiX2tleSIsImFwcGx5Iiwic2l6ZSIsIk1hdGgiLCJmbG9vciIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsIndyYXBwZXIiLCJjcmVhdGUiLCJzZXRBdHRyaWJ1dGVzU3ZnIiwic2V0QXR0cmlidXRlc1JlY3QiLCJDcmVhdGVCb2FyZEVsZW1lbnRzIiwiaiIsImkiLCJzZXRBdHRyaWJ1dGVzQ2lyY2xlIiwiX3RoaXMyIiwibGV0dGVycyIsImZvckVhY2giLCJpdGVtIiwiaW5kZXgiLCJjb3VudCIsInNldEF0dHJpYnV0ZXNUZXh0Iiwic2V0QXR0cmlidXRlc0ciLCJzZXRBdHRyaWJ1dGVzUG9seWxpbmUiLCJlbGVtZW50c0JvYXJkIiwiY3JlYXRlQm9hcmRDb29yZHMiLCJjcmVhdGVSZWN0cyIsImNyZWF0ZUNpcmNsZXMiLCJjcmVhdGVBcnJvdyIsImNyZWF0ZUNvbnRhaW5lclJvdXRlIiwiY3JlYXRlQ29udGFpbmVyQWN0aXZlUmVjdCIsImNyZWF0ZUNvbnRhaW5lckhpZ2hlclppbmRleCIsIkdhbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY29uY2F0IiwiX3RvQ29uc3VtYWJsZUFycmF5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiY2xhc3NEZWxldGUiLCJyZW1vdmUiLCJjb2xvciIsImNpcmNsZXMiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiY3hfYWN0aXZlIiwiY3lfYWN0aXZlIiwiZ2V0QXR0cmlidXRlIiwiekluZGV4IiwiYWN0aXZlIiwiZWxlbSIsImNsb25lIiwiY2xvbmVOb2RlIiwiYWN0aXZlUXVlZW4iLCJjb2xvckRlbGV0ZSIsImJvYXJkIiwicGFyZW50QXJyb3ciLCJ0ZXh0MSIsInRleHQyIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInNwZWNpYWxNb3ZlIiwic3BlY2lhbFJlbW92ZSIsInNpbXBsZU1vdmUiLCJjb250YWlucyIsInF1ZWVuIiwiZ2FtZSIsInJlbW92ZUVsZW1lbnQiLCJyZW1vdmVDbGFzcyIsIm1vdmVBcnJvdyIsImFkZENsYXNzQWN0aXZlIiwiYWRkSGlnaGVyWmluZGV4Iiwic2VhcmNoTW92ZSIsIk1vdmVDaGVja2VyIiwiX3RoaXMiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiY2FsbCIsInhfZW5kIiwieV9lbmQiLCJjeF9lbmQiLCJjeV9lbmQiLCJhY3RpdmVDaXJjbGUiLCJyb3V0ZSIsImRlbGV0ZUNpcmNsZXMiLCJlbmRHYW1lIiwic2NhbGUiLCJjeV9kZWxldGVkIiwiY29vcmRzTW92ZSIsImZpbHRlciIsInNwbGljZSIsIl90aGlzMyIsImZsYWciLCJzdG9wIiwic3RvcE1vdmUiLCJ0aGF0IiwibW92ZSIsImNoZWNrUXVlZW4iLCJnZXRkZWxldGVDaXJjbGVzIiwiZ2V0U2NhbGUiLCJnZXRDeURlbGV0ZWRDaXJjbGUiLCJjeF9lbGVtIiwiY3lfZWxlbSIsImRlbGV0ZUNvbG9yIiwic2V0VGltZW91dCIsImNyZWF0ZUNsb25lRGVsZXRlZENpcmNsZSIsImRlbGV0ZUVsZW0iLCJnYW1lT3ZlciIsInN0YXJ0TW92ZSIsImFkZENsYXNzTGFzdE1vdmVkIiwiY2hpbGQiLCJjeV9kZWxldGUiLCJjcmVhdGVRdWVlbiIsImNsaWNrUmVjdCIsIm1vdmVDaGVja2VyIiwic2V0RmluYWxSb3V0ZSIsIkRyYXdSb3V0ZSIsInNpbXBsZU1vdmVDb29yZHMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiX2ZpbmRDb29yZHMiLCJmaW5kQ29vcmRzIiwiX2ZpbmRDb29yZHMyIiwiX3NsaWNlZFRvQXJyYXkiLCJzb3J0Q29vcmRzIiwicHVzaCIsInBvaW50c0xpbmUiLCJkcmF3Um91dGVDaXJjbGVzIiwiam9pbiIsImRyYXdSb3V0ZVBvbHlsaW5lcyIsImRyYXdSb3V0ZVJlY3QiLCJkcmF3Um91dGUiLCJmaW5kQW5kU29ydENvb3JkcyIsInNldFNpbXBsZU1vdmVDb29yZHMiLCJkcmF3RWxlbWVudHNSb3V0ZSIsImNvbG9yRWxlbSIsImZpcnN0RW50ZXIiLCJuZXh0IiwidW5kZWZpbmVkIiwicHVzaENvb3Jkc0luQXJyIiwiX3NldENvb3JkcyIsInNldENvb3JkcyIsIl9zZXRDb29yZHMyIiwicm91dGVUb3AiLCJyb3V0ZUxvdyIsInJvdXRlQ29sb3IiLCJuZXh0RWxlbSIsImZpbmROZXh0RWxlbSIsIl9zZXRDb29yZHMzIiwiX3NldENvb3JkczQiLCJzaW1pbGFyRWxlbSIsInNlYXJjaFNpbWlsYXJEZWxldGUiLCJzcGVjIiwic3BlY2lhbENoZWNrUmVtb3ZlIiwiX3NwZWNpYWxTb3J0UmVtb3ZlIiwic3BlY2lhbFNvcnRSZW1vdmUiLCJfc3BlY2lhbFNvcnRSZW1vdmUyIiwiYWRkQ2xhc3NEZWxldGUiLCJfc2V0Q29vcmRzNSIsIl9zZXRDb29yZHM2IiwiYXJyYXkiLCJvYmoiLCJ2YWxpZENvb3JkIiwiY2lyY2xlIiwidG9wIiwiY3hOZXh0RWxlbSIsImN5TmV4dEVsZW0iLCJjb2xvck5leHRFbGVtIiwiYXJyRGVsZXRlIiwic2ltaWxhciIsImN4RWxlbSIsImN5RWxlbSIsIm5laWdoYm9yIiwiYWJzIiwiY29vcmRzIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwiaXRlbUNvb3JkcyIsImFyciIsImMiLCJpbmRleE1vdmUiLCJpbmRleFJlbW92ZSIsImludmFsaWQiLCJjeF8xIiwiY3lfMSIsImN4XzIiLCJjeV8yIiwiY3hfbWlkIiwiY3lfbWlkIiwidmFsaWRDeCIsInZhbGlkQ3kiLCJjeF8wIiwiY3lfMCIsInZhbGlkTW92ZSIsInF1ZWVuTW92ZVZhbGlkIl0sIm1hcHBpbmdzIjoiaVlBQU1BLHVCQUNILFNBQUFBLElBQWNDLGdCQUFBQyxLQUFBRixHQUNYRSxLQUFLQyxPQUNMRCxLQUFLRSxnRUFFR0MsR0FDUkgsS0FBS0MsT0FBU0csU0FBU0MsY0FBVCxJQUEyQkYseUNBRTlCRyxHQUNYTixLQUFLRSxRQUFVRSxTQUFTRyxnQkFBZ0IsNkJBQThCRCxHQUN0RU4sS0FBS0MsT0FBT08sWUFBWVIsS0FBS0Usa0RBRWZDLEVBQVdGLEVBQVFRLEVBQU9DLEVBQVFDLEVBQUdDLEdBQ25EWixLQUFLYSxXQUFXWixHQUNoQkQsS0FBS2MsY0FBYyxPQUNuQmQsS0FBS0UsUUFBUWEsYUFBYSxTQUFVTCxHQUNwQ1YsS0FBS0UsUUFBUWEsYUFBYSxRQUFTTixHQUNuQ1QsS0FBS0UsUUFBUWEsYUFBYSxJQUFLSixHQUFLLEdBQ3BDWCxLQUFLRSxRQUFRYSxhQUFhLElBQUtILEdBQUssR0FDcENaLEtBQUtFLFFBQVFjLFVBQVVDLElBQUlkLDZDQUVaQSxFQUFXRixFQUFRUSxFQUFPQyxFQUFRQyxFQUFHQyxFQUFHTSxFQUFNQyxF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QUFZLENBQ1g0QixFQUFPb0QsRUFBSzFDLE1BQU04SCxFQUFXQSxFQUFZLEdBQzdDRixFQUFJdEQsS0FBS2hGLEVBQUssSUFFZm9ELEVBQUtOLE9BQU8wRixFQUFXLEdBQ3ZCekQsV0FBV3hGLEVBQVE2RCxFQUFNb0YsRUFBWSxFQUFHQyxFQUFhckssRUFBUSxHQUFHLEdBQU0sRUFBT2tLLFFBQ3ZFLEdBQUlBLEVBQUl6TCxPQUFTLEVBQUcsQ0FDdEJtRCxFQUFPb0QsRUFBSzFDLE1BQU04SCxFQUFXQSxFQUFZLEdBQzVDRixFQUFJdEQsS0FBS2hGLEVBQUssSUFDZG5GLFFBQVErSCxXQUFXb0MsS0FBS3NELEdBR2IsR0FBVG5ILEdBQTZCLEdBQVh1SCxHQUNyQnRGLEVBQUtOLE9BQU8wRixFQUFXLEdBQ3ZCakosRUFBT3VELE9BQU8yRixFQUFjLEVBQUcsR0FFL0IxRCxXQUFXeEYsRUFBUTZELEVBQU1vRixFQUFZLEVBQUdDLEVBQWMsRUFBRyxHQUFHLEdBQU8sRUFEbkVILFFBR0FsRixFQUFLTixPQUFPMEYsRUFBVyxHQUV2QnpELFdBQVd4RixFQUFRNkQsRUFBTW9GLEVBQVksRUFBR0MsRUFBYSxHQUFHLEdBQU8sRUFEL0RIIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBDcmVhdGVCb2FyZCB7XHJcbiAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICB0aGlzLnBhcmVudDtcclxuICAgICAgdGhpcy5lbGVtZW50O1xyXG4gICB9XHJcbiAgIGZpbmRQYXJlbnQoY2xhc3NFbGVtKSB7XHJcbiAgICAgIHRoaXMucGFyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y2xhc3NFbGVtfWApO1xyXG4gICB9XHJcbiAgIGNyZWF0ZUVsZW1lbnQodGFnKSB7XHJcbiAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIHRhZyk7XHJcbiAgICAgIHRoaXMucGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudCk7XHJcbiAgIH1cclxuICAgc2V0QXR0cmlidXRlc1N2ZyhjbGFzc0VsZW0sIHBhcmVudCwgd2lkdGgsIGhlaWdodCwgeCwgeSkge1xyXG4gICAgICB0aGlzLmZpbmRQYXJlbnQocGFyZW50KTtcclxuICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KFwic3ZnXCIpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaGVpZ2h0XCIsIGhlaWdodCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLCB3aWR0aCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ4XCIsIHggfHwgMCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHkgfHwgMCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNsYXNzRWxlbSk7XHJcbiAgIH1cclxuICAgc2V0QXR0cmlidXRlc1JlY3QoY2xhc3NFbGVtLCBwYXJlbnQsIHdpZHRoLCBoZWlnaHQsIHgsIHksIGZpbGwsIHN0cm9rZSwgc3Ryb2tlV2lkdGgpIHtcclxuICAgICAgdGhpcy5maW5kUGFyZW50KHBhcmVudCk7XHJcbiAgICAgIHRoaXMuY3JlYXRlRWxlbWVudChcInJlY3RcIik7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgaGVpZ2h0KTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHdpZHRoKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInhcIiwgeCB8fCAwKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInlcIiwgeSB8fCAwKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcImZpbGxcIiwgZmlsbCB8fCBcIm5vbmVcIik7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2VcIiwgc3Ryb2tlIHx8IFwibm9uZVwiKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZS13aWR0aFwiLCBzdHJva2VXaWR0aCB8fCAwKTtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NFbGVtKTtcclxuICAgfVxyXG4gICBzZXRBdHRyaWJ1dGVzVGV4dChjbGFzc0VsZW0sIHBhcmVudCwgeCwgeSwgaW5uZXJUZXh0LCBmb250U2l6ZSkge1xyXG4gICAgICB0aGlzLmZpbmRQYXJlbnQocGFyZW50KTtcclxuICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KFwidGV4dFwiKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInhcIiwgeCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ5XCIsIHkpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9udC1mYW1pbHlcIiwgXCJWZXJkYW5hXCIpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9udC1zaXplXCIsIGZvbnRTaXplIHx8IFwiMTRcIik7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIFwiIzg1NjUzRVwiKTtcclxuICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTCA9IGlubmVyVGV4dDtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xhc3NFbGVtKTtcclxuICAgfVxyXG4gICBzZXRBdHRyaWJ1dGVzQ2lyY2xlKGNvbG9yQ2xhc3MsIHBhcmVudCwgY3gsIGN5LCByLCBmaWxsLCBzdHJva2UsIHN0cm9rZVdpZHRoKSB7XHJcbiAgICAgIHRoaXMuZmluZFBhcmVudChwYXJlbnQpO1xyXG4gICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIik7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjeFwiLCBjeCk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJjeVwiLCBjeSk7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyXCIsIHIpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBmaWxsKTtcclxuICAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBzdHJva2UpO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwic3Ryb2tlLXdpZHRoXCIsIFwiMlwiKTtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoY29sb3JDbGFzcywgXCJzbG93TW92ZVwiKTtcclxuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0NpcmNsZSwgZmFsc2UpO1xyXG4gICB9XHJcbiAgIHNldEF0dHJpYnV0ZXNQb2x5bGluZShjbGFzc0VsZW0sIHBhcmVudCwgcG9pbnRzLCBzdHJva2UsIGZpbGwpIHtcclxuICAgICB0aGlzLmZpbmRQYXJlbnQocGFyZW50KTtcclxuICAgICB0aGlzLmNyZWF0ZUVsZW1lbnQoXCJwb2x5bGluZVwiKTtcclxuICAgICB0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwicG9pbnRzXCIsIHBvaW50cyk7XHJcbiAgICAgdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInN0cm9rZVwiLCBzdHJva2UpO1xyXG4gICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJzdHJva2Utd2lkdGhcIiwgXCIzXCIpO1xyXG4gICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsXCIsIGZpbGwgfHwgXCJub25lXCIpO1xyXG4gICAgIHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmaWxsLW9wYWNpdHlcIiwgXCIuNVwiKTtcclxuICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc0VsZW0pO1xyXG4gICB9XHJcbiAgIHNldEF0dHJpYnV0ZXNHKHBhcmVudCwgLi4uY2xhc3Nlcykge1xyXG4gICAgICB0aGlzLmZpbmRQYXJlbnQocGFyZW50KTtcclxuICAgICAgdGhpcy5jcmVhdGVFbGVtZW50KFwiZ1wiKTtcclxuICAgICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoLi4uY2xhc3Nlcyk7XHJcbiAgIH1cclxufVxyXG5cclxuICAgLy/RgNCw0LfQvNC10YAg0L7QtNC90L7QuSDRj9GH0LXQudC60LhcclxuICAgbGV0IHNpemUgPSBNYXRoLmZsb29yKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgKiAuOCAgLyA4KTtcclxuICAgICAgc2l6ZSAlIDIgPyBzaXplKysgOiBzaXplID0gc2l6ZTtcclxuICAgIFxyXG4gICBsZXQgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJyk7XHJcblxyXG4gICBsZXQgY3JlYXRlID0gbmV3IENyZWF0ZUJvYXJkO1xyXG4gICAgICBjcmVhdGUuc2V0QXR0cmlidXRlc1N2ZyhcIm91dGVyQm9hcmRcIiwgXCJ3cmFwcGVyXCIsIHNpemUqMTEsIHNpemUqOSk7XHJcbiAgICAgIGNyZWF0ZS5zZXRBdHRyaWJ1dGVzU3ZnKFwib3V0ZXJCb2FyZF9fYm9hcmRcIiwgXCJvdXRlckJvYXJkXCIsICBzaXplKjEwLCBzaXplKjksIHNpemUsIDApO1xyXG4gICAgICBjcmVhdGUuc2V0QXR0cmlidXRlc1JlY3QoXCJvdXRlckJvYXJkX19ib2FyZC0tYm9yZGVyXCIsIFwib3V0ZXJCb2FyZF9fYm9hcmRcIiwgIHNpemUqOSwgc2l6ZSo5LCAwLCAwLCBcIiNFRENGQTlcIiwgXCIjODU2NTNFXCIsIDMpO1xyXG4gICAgICBjcmVhdGUuc2V0QXR0cmlidXRlc1JlY3QoXCJvdXRlckJvYXJkX19ib2FyZC0tZmlsbFwiLCBcIm91dGVyQm9hcmRfX2JvYXJkXCIsIHNpemUqOCs0LCBzaXplKjgrNSwgc2l6ZSowLjUtMiwgc2l6ZSowLjUtMixcIiAjODU2NTNFXCIpO1xyXG4gICAgICBjcmVhdGUuc2V0QXR0cmlidXRlc1N2ZyhcIm91dGVyQm9hcmRfX2JvYXJkX19pbm5lckJvYXJkXCIsIFwib3V0ZXJCb2FyZF9fYm9hcmRcIiwgIHNpemUqOS41LCBzaXplKjgsIHNpemUqMC41LCBzaXplKjAuNSsxKTsiLCJjbGFzcyBDcmVhdGVCb2FyZEVsZW1lbnRzIGV4dGVuZHMgQ3JlYXRlQm9hcmQge1xyXG5cdGNyZWF0ZVJlY3RzKCkge1xyXG5cdFx0bGV0IGZpbGwsIFxyXG5cdFx0XHR4ID0gMCwgXHJcblx0XHRcdHkgPSAwLFxyXG5cdFx0XHRwYXJlbnQgPSBcIm91dGVyQm9hcmRfX2JvYXJkX19pbm5lckJvYXJkXCIsXHJcblx0XHRcdGNsYXNzRWxlbSA9IFwib3V0ZXJCb2FyZF9fYm9hcmRfX2lubmVyQm9hcmQtLXJlY3RcIjtcclxuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgODsgaisrKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgODsgaSsrKSB7XHJcblx0XHRcdFx0KGogKyBpKSAlIDIgID8gIGZpbGwgPSBcIiM4NTY1M0VcIiA6IGZpbGwgPSBcIiNFRENGQTlcIjtcclxuXHRcdFx0XHR0aGlzLnNldEF0dHJpYnV0ZXNSZWN0KGNsYXNzRWxlbSwgcGFyZW50LCBzaXplLCBzaXplLCB4LCB5LCBmaWxsKTtcclxuXHRcdFx0XHR4ICs9IHNpemU7XHJcblx0XHRcdH1cclxuXHRcdFx0eCA9IDA7XHJcblx0XHRcdHkgKz0gc2l6ZTtcclxuXHRcdH1cdFxyXG4gIFx0fVxyXG4gIFx0Y3JlYXRlQ2lyY2xlcygpIHtcclxuICBcdFx0bGV0IGN4ID0gc2l6ZSAqIDEuNSwgXHJcblx0XHRcdGN5ID0gc2l6ZSAvIDIsXHJcblx0XHRcdGZpbGwgPSBcIiM1NjU0NTVcIixcclxuXHRcdFx0c3Ryb2tlID0gXCIjM0MzQjNCXCIsXHJcblx0XHRcdGNvbG9yQ2xhc3MgPSBcImJsYWNrXCIsXHJcblx0XHRcdHBhcmVudCA9IFwib3V0ZXJCb2FyZF9fYm9hcmRfX2lubmVyQm9hcmRcIjtcclxuXHRcdGZvciAobGV0IGogPSAwOyBqIDwgNjsgaisrKSB7XHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcblx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGVzQ2lyY2xlKGNvbG9yQ2xhc3MsIHBhcmVudCwgY3gsIGN5LCBzaXplLzMsIGZpbGwsIHN0cm9rZSk7XHJcblx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGVzQ2lyY2xlKGNvbG9yQ2xhc3MsIHBhcmVudCwgY3gsIGN5LCBzaXplLzUsIGZpbGwsIHN0cm9rZSk7XHJcblx0XHRcdFx0Y3ggKz0gc2l6ZSAqIDI7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGogPT0gMikge1xyXG5cdFx0XHRcdGN5ID0gc2l6ZSAqIDUuNTtcclxuXHRcdFx0XHRjeCA9IHNpemUvMjtcclxuXHRcdFx0XHRmaWxsID0gXCIjRDRFMkNCXCI7XHJcblx0XHRcdFx0c3Ryb2tlID0gXCIjRjhGRkVFXCI7XHJcblx0XHRcdFx0Y29sb3JDbGFzcyA9IFwid2hpdGVcIjtcclxuXHRcdFx0fSAgZWxzZSBpZiAoaiAlIDIpIHtcclxuXHRcdFx0XHRjeSArPSBzaXplO1xyXG5cdFx0XHRcdGN4ID0gc2l6ZSAqIDEuNTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjeSArPSBzaXplO1xyXG5cdFx0XHRcdGN4ID0gc2l6ZS8yO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdGNyZWF0ZUJvYXJkQ29vcmRzKCkge1xyXG5cdFx0bGV0IG51bWJlcnMgPSBbMSwyLDMsNCw1LDYsNyw4XSxcclxuXHRcdFx0bGV0dGVycyA9IFtcImFcIixcImJcIixcImNcIixcImRcIixcImVcIixcImZcIixcImdcIixcImhcIl07XHJcblx0XHRudW1iZXJzLmZvckVhY2goIChpdGVtLCBpbmRleCkgPT4ge1xyXG5cdFx0XHRsZXQgY291bnQgPSBpdGVtLFxyXG5cdFx0XHRcdHBhcmVudCA9IFwib3V0ZXJCb2FyZF9fYm9hcmRcIixcclxuXHRcdFx0XHRjbGFzc0VsZW0gPSBcIm91dGVyQm9hcmRfX2JvYXJkLS1jb29yZHNcIjtcclxuXHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGVzVGV4dChjbGFzc0VsZW0sIHBhcmVudCwgc2l6ZS81LTIsIHNpemUqY291bnQrNiwgYCR7aXRlbX1gKTtcclxuXHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGVzVGV4dChjbGFzc0VsZW0sIHBhcmVudCwgc2l6ZSo4LjctMiwgc2l6ZSpjb3VudCs2LCBgJHtpdGVtfWApO1xyXG5cdFx0XHR0aGlzLnNldEF0dHJpYnV0ZXNUZXh0KGNsYXNzRWxlbSwgcGFyZW50LCBzaXplKmNvdW50LTYsIHNpemUvMywgYCR7bGV0dGVyc1tpbmRleF19YCk7XHJcblx0XHRcdHRoaXMuc2V0QXR0cmlidXRlc1RleHQoY2xhc3NFbGVtLCBwYXJlbnQsIHNpemUqY291bnQtNiwgc2l6ZSo4LjgrMiwgYCR7bGV0dGVyc1tpbmRleF19YCk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0Y3JlYXRlQXJyb3coKSB7XHJcblx0XHRsZXQgcG9pbnRzID0gYCR7MX0sJHtzaXplKjQuMn0gJHtzaXplKjAuN30sJHtzaXplKjQuMn0gJHtzaXplKjAuODV9LCR7c2l6ZSo0LjV9ICR7c2l6ZSowLjd9LCR7c2l6ZSo0Ljh9ICR7MX0sJHtzaXplKjQuOH0gJHsxfSwke3NpemUqNC4yfWA7XHJcblx0XHR0aGlzLnNldEF0dHJpYnV0ZXNHKFwib3V0ZXJCb2FyZFwiLCBcInNsb3dNb3ZlXCIsIFwicGFyZW50QXJyb3dcIiwgXCJkaXNwbGF5Tm9uZVwiKTtcclxuXHRcdHRoaXMuc2V0QXR0cmlidXRlc1BvbHlsaW5lKFwiYXJyb3dcIiwgXCJwYXJlbnRBcnJvd1wiLCBwb2ludHMsIFwiI0IwNDYzMlwiLCBcIiNCMDQ2MzJcIik7XHJcblx0XHR0aGlzLnNldEF0dHJpYnV0ZXNUZXh0KFwiYXJyb3dfX3RleHQxXCIsIFwicGFyZW50QXJyb3dcIiwgOCwgc2l6ZSo0LjQ1LCBcIndoaXRlXCIgLCBcIjEyXCIpO1xyXG5cdFx0dGhpcy5zZXRBdHRyaWJ1dGVzVGV4dChcImFycm93X190ZXh0MlwiLCBcInBhcmVudEFycm93XCIsIDgsIHNpemUqNC43LCBcIm1vdmVcIiwgXCIxMlwiKTtcclxuXHR9XHJcblx0Y3JlYXRlQ29udGFpbmVyUm91dGUoKSB7XHJcblx0XHR0aGlzLnNldEF0dHJpYnV0ZXNHKFwib3V0ZXJCb2FyZF9fYm9hcmRfX2lubmVyQm9hcmRcIiwgXCJyb3V0ZVBhcmVudFwiKTtcclxuXHR9XHJcblx0Y3JlYXRlQ29udGFpbmVyQWN0aXZlUmVjdCgpIHtcclxuXHRcdHRoaXMuc2V0QXR0cmlidXRlc0coXCJvdXRlckJvYXJkX19ib2FyZF9faW5uZXJCb2FyZFwiLCBcImFjdGl2ZVJlY3RQYXJlbnRcIik7XHJcblx0fVxyXG5cdGNyZWF0ZUNvbnRhaW5lckhpZ2hlclppbmRleCgpIHtcclxuXHRcdHRoaXMuc2V0QXR0cmlidXRlc0coXCJvdXRlckJvYXJkX19ib2FyZF9faW5uZXJCb2FyZFwiLCBcImhpZ2hlclppbmRleFwiKTtcclxuXHR9XHJcbn1cclxuXHJcbmxldCBlbGVtZW50c0JvYXJkID0gbmV3IENyZWF0ZUJvYXJkRWxlbWVudHM7XHJcblx0ZWxlbWVudHNCb2FyZC5jcmVhdGVCb2FyZENvb3JkcygpO1xyXG5cdGVsZW1lbnRzQm9hcmQuY3JlYXRlUmVjdHMoKTtcclxuXHRlbGVtZW50c0JvYXJkLmNyZWF0ZUNpcmNsZXMoKTtcclxuXHRlbGVtZW50c0JvYXJkLmNyZWF0ZUFycm93KCk7XHJcblx0ZWxlbWVudHNCb2FyZC5jcmVhdGVDb250YWluZXJSb3V0ZSgpO1xyXG5cdGVsZW1lbnRzQm9hcmQuY3JlYXRlQ29udGFpbmVyQWN0aXZlUmVjdCgpO1xyXG5cdGVsZW1lbnRzQm9hcmQuY3JlYXRlQ29udGFpbmVySGlnaGVyWmluZGV4KCk7IiwiY2xhc3MgR2FtZSB7XHJcblx0cmVtb3ZlRWxlbWVudChjbGFzc0VsZW0pIHtcclxuXHRcdGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7Y2xhc3NFbGVtfWApO1xyXG5cdFx0Wy4uLmVsZW1lbnRdLmZvckVhY2goIGl0ZW0gPT4ge1xyXG5cdFx0XHRpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0cmVtb3ZlQ2xhc3MoY2xhc3NFbGVtKSB7XHJcblx0XHRsZXQgY2xhc3NEZWxldGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHtjbGFzc0VsZW19YCk7XHJcblx0XHRbLi4uY2xhc3NEZWxldGVdLmZvckVhY2goIGl0ZW0gPT4ge1xyXG5cdFx0XHRpdGVtLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NFbGVtKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHRhZGRDbGFzc0xhc3RNb3ZlZChjb2xvcikge1xyXG5cdFx0bGV0IGNpcmNsZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGAke2NvbG9yfWApO1xyXG5cdFx0Wy4uLmNpcmNsZXNdLmZvckVhY2goIGl0ZW0gPT4ge1xyXG5cdFx0XHRpdGVtLmNsYXNzTGlzdC5hZGQoXCJsYXN0TW92ZWRcIik7XHJcblx0XHR9KTtcclxuXHR9XHJcblx0YWRkQ2xhc3NBY3RpdmUoY3hfYWN0aXZlLCBjeV9hY3RpdmUsIGNvbG9yKSB7XHJcblx0XHRsZXQgY2lyY2xlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYCR7Y29sb3J9YCk7XHJcblx0XHRbLi4uY2lyY2xlc10uZm9yRWFjaCAoaXRlbSA9PiB7XHJcblx0XHRcdGxldCBjeCA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwiY3hcIiksXHJcblx0XHRcdFx0Y3kgPSBpdGVtLmdldEF0dHJpYnV0ZShcImN5XCIpO1xyXG5cdFx0XHRpZiAoY3ggPT0gY3hfYWN0aXZlICYmIGN5ID09IGN5X2FjdGl2ZSkge1xyXG5cdFx0XHRcdGl0ZW0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cdGFkZEhpZ2hlclppbmRleCgpIHtcclxuXHRcdGxldCB6SW5kZXggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGVyWmluZGV4Jyk7XHJcblx0XHRsZXQgYWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpO1xyXG5cdFx0Wy4uLmFjdGl2ZV0uZm9yRWFjaCAoIGVsZW0gPT4ge1xyXG5cdFx0XHRsZXQgY2xvbmUgPSBlbGVtLmNsb25lTm9kZSh0cnVlKTtcclxuXHRcdFx0Y2xvbmUuY2xhc3NMaXN0LmFkZChcImhpZ2hlclppbmRleC0tY2lyY2xlXCIpO1xyXG5cdFx0XHR6SW5kZXguYXBwZW5kQ2hpbGQoY2xvbmUpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG5cdGNyZWF0ZVF1ZWVuKCkge1xyXG5cdFx0bGV0IGFjdGl2ZVF1ZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpO1xyXG5cdFx0Wy4uLmFjdGl2ZVF1ZWVuXS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG5cdFx0XHRsZXQgciA9IGl0ZW0uZ2V0QXR0cmlidXRlKFwiclwiKTtcclxuXHRcdFx0aWYgKCtyID09IHNpemUvNSkge1xyXG5cdFx0XHRcdGl0ZW0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpdGVtKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5hZGQoXCJxdWVlblwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cdGNyZWF0ZUNsb25lRGVsZXRlZENpcmNsZShjb2xvckRlbGV0ZSwgZWxlbSl7XHJcblx0XHRsZXQgYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub3V0ZXJCb2FyZF9fYm9hcmRfX2lubmVyQm9hcmQnKSxcclxuXHRcdFx0Y2xvbmUgPSBlbGVtLmNsb25lTm9kZSh0cnVlKTtcclxuXHRcdGNsb25lLmNsYXNzTGlzdC5hZGQoYGNsb25lRGVsZXRlJHtjb2xvckRlbGV0ZX1gKTtcclxuXHRcdGJvYXJkLmFwcGVuZENoaWxkKGNsb25lKTtcclxuXHR9XHJcblx0bW92ZUFycm93KGNvbG9yKSB7XHJcblx0XHRsZXQgcGFyZW50QXJyb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucGFyZW50QXJyb3cnKSxcclxuXHRcdFx0dGV4dDEgPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hcnJvd19fdGV4dDEnKSwgXHJcblx0XHRcdHRleHQyID1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXJyb3dfX3RleHQyJyk7XHJcblxyXG5cdFx0aWYgKGNvbG9yID09IFwid2hpdGVcIikge1xyXG5cdFx0XHRwYXJlbnRBcnJvdy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgJHtzaXplKjJ9cHgpYCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwYXJlbnRBcnJvdy5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLCBgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLSR7c2l6ZSoyfXB4KWApO1xyXG5cdFx0fVxyXG5cdFx0cGFyZW50QXJyb3cuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXlOb25lXCIpO1xyXG5cdFx0cGFyZW50QXJyb3cuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXlOb25lXCIpO1xyXG5cdFx0dGV4dDEuc2V0QXR0cmlidXRlKFwiZmlsbFwiLCBgJHtjb2xvcn1gKTtcclxuXHRcdHRleHQyLnNldEF0dHJpYnV0ZShcImZpbGxcIiwgYCR7Y29sb3J9YCk7XHJcblx0XHR0ZXh0MS5pbm5lckhUTUwgPSBjb2xvcjtcclxuXHR9XHJcblx0Z2FtZU92ZXIoKSB7XHJcblx0XHRsZXQgY29sb3IgPSBlbGVtZW50LmNvbG9yWzBdLnRvVXBwZXJDYXNlKCkgKyBlbGVtZW50LmNvbG9yLnNsaWNlKDEpLFxyXG5cdFx0XHR0ZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY29udGVudC0tdGV4dFwiKTtcclxuXHRcdFx0dGV4dC5pbm5lckhUTUwgPSBgJHtjb2xvcn0gd29uIWBcclxuXHRcdFxyXG5cdFx0bGV0IGJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NvbnRlbnQtLWJ0blwiKTtcclxuXHRcdFx0YnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHR3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcblx0XHRcdH0sIGZhbHNlKTtcclxuXHRcdFxyXG5cdFx0bGV0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cFwiKTtcdFxyXG5cdFx0XHRwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzcGxheU5vbmVcIilcclxuXHR9XHJcbn0iLCJsZXQgZWxlbWVudCA9IHtcclxuXHRzcGVjaWFsTW92ZTogW10sXHJcblx0c3BlY2lhbFJlbW92ZTogW10sXHJcblx0c2ltcGxlTW92ZSA6IFtdXHJcbn07XHJcblxyXG5mdW5jdGlvbiBjbGlja0NpcmNsZShlKSB7XHJcblx0aWYgKHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXN0TW92ZWQnKSkgcmV0dXJuO1xyXG5cdFxyXG5cdGVsZW1lbnQuZWxlbSA9IHRoaXM7XHJcblx0ZWxlbWVudC5jb2xvciA9IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCd3aGl0ZScpID8gXCJ3aGl0ZVwiIDogXCJibGFja1wiO1xyXG5cclxuXHRsZXQgY3ggPSB0aGlzLmdldEF0dHJpYnV0ZShcImN4XCIpLFxyXG5cdFx0Y3kgPSB0aGlzLmdldEF0dHJpYnV0ZShcImN5XCIpLFxyXG5cdFx0cXVlZW4gPSB0aGlzLmNsYXNzTGlzdC5jb250YWlucygncXVlZW4nKSA/IHRydWUgOiBmYWxzZTtcclxuXHJcblx0bGV0IGdhbWUgPSBuZXcgR2FtZTtcclxuXHRcdGdhbWUucmVtb3ZlRWxlbWVudChcImFjdGl2ZVJlY3RcIik7XHJcblx0XHRnYW1lLnJlbW92ZUVsZW1lbnQoXCJyb3V0ZV9fcG9seWxpbmVcIik7XHJcblx0XHRnYW1lLnJlbW92ZUVsZW1lbnQoXCJyb3V0ZUNpcmNsZVwiKTtcclxuXHRcdGdhbWUucmVtb3ZlRWxlbWVudChcImhpZ2hlclppbmRleC0tY2lyY2xlXCIpO1xyXG5cdFx0Z2FtZS5yZW1vdmVDbGFzcyhcImRlbGV0ZVwiKTtcclxuXHRcdGdhbWUucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHRnYW1lLm1vdmVBcnJvdyhlbGVtZW50LmNvbG9yKTtcclxuXHRcdGdhbWUuYWRkQ2xhc3NBY3RpdmUoY3gsIGN5LCBlbGVtZW50LmNvbG9yKTtcclxuXHRcdGdhbWUuYWRkSGlnaGVyWmluZGV4KCk7XHJcblx0XHJcblx0c2VhcmNoTW92ZShjeCwgY3ksIGVsZW1lbnQuY29sb3IsIHF1ZWVuKTtcclxufSIsImNsYXNzIE1vdmVDaGVja2VyIGV4dGVuZHMgR2FtZSB7XHJcblx0Y29uc3RydWN0b3IoZWxlbSkge1xyXG5cdFx0c3VwZXIoKTtcclxuXHRcdHRoaXMueF9lbmQgPSBlbGVtLmdldEF0dHJpYnV0ZSggXCJ4XCIpO1xyXG5cdFx0dGhpcy55X2VuZCA9IGVsZW0uZ2V0QXR0cmlidXRlKCBcInlcIik7XHJcblx0XHR0aGlzLmN4X2VuZCA9ICt0aGlzLnhfZW5kICsgc2l6ZS8yO1xyXG5cdFx0dGhpcy5jeV9lbmQgPSArdGhpcy55X2VuZCArIHNpemUvMjtcclxuXHRcdHRoaXMuYWN0aXZlQ2lyY2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpO1xyXG5cdFx0dGhpcy5jb2xvckRlbGV0ZSA9IGVsZW1lbnQuY29sb3IgPT0gXCJ3aGl0ZVwiID8gXCJibGFja1wiIDogXCJ3aGl0ZVwiO1xyXG5cdFx0dGhpcy5pbmRleCA9IDA7XHJcblx0XHR0aGlzLnJvdXRlO1xyXG5cdFx0dGhpcy5kZWxldGVDaXJjbGVzO1xyXG5cdFx0dGhpcy5lbmRHYW1lO1xyXG5cdFx0dGhpcy5zY2FsZTtcclxuXHRcdHRoaXMuY3lfZGVsZXRlZDtcclxuXHR9XHJcblxyXG5cdHNldEZpbmFsUm91dGUoKSB7XHJcblx0XHRsZXQgcm91dGUgPSBlbGVtZW50LmNvb3Jkc01vdmUuZmlsdGVyKGVsZW0gPT4ge1xyXG5cdFx0XHRmb3IgKHZhciBpID0gZWxlbS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG5cdFx0XHRcdGlmIChlbGVtW2ldLmN4ID09IHRoaXMuY3hfZW5kICYmXHJcblx0XHRcdFx0XHRlbGVtW2ldLmN5ID09IHRoaXMuY3lfZW5kKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZWxlbTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dGhpcy5yb3V0ZSA9IHJvdXRlWzBdO1xyXG5cdFx0dGhpcy5yb3V0ZS5zcGxpY2UoMCwgMSk7XHJcblx0XHRyZXR1cm4gdGhpcy5yb3V0ZTtcclxuXHR9XHJcblx0XHJcblx0c3RhcnRNb3ZlKCl7XHJcblx0XHRsZXQgZmxhZyA9IHRoaXMucm91dGVbdGhpcy5pbmRleF0uZmxhZyxcclxuXHRcdFx0Y3ggPSB0aGlzLnJvdXRlW3RoaXMuaW5kZXhdLmN4LFxyXG5cdFx0XHRjeSA9IHRoaXMucm91dGVbdGhpcy5pbmRleF0uY3ksXHJcblx0XHRcdHN0b3AgPSAhdGhpcy5zdG9wTW92ZSgpLFxyXG5cdFx0XHR0aGF0ID0gdGhpcztcclxuXHJcblx0XHRpZiAoZmxhZyA9PT0gXCJtb3ZlXCIgfHwgZmxhZyA9PT0gXCJzaW1wbGVNb3ZlXCIpIHtcclxuXHRcdFx0dGhpcy5tb3ZlKGN4LCBjeSk7XHJcblx0XHRcdHRoaXMuY2hlY2tRdWVlbihjeSk7XHJcblx0XHR9IGVsc2UgaWYgKGZsYWcgPT09IFwiZGVsZXRlXCIpIHtcclxuXHRcdFx0dGhpcy5nZXRkZWxldGVDaXJjbGVzKCk7XHJcblx0XHRcdHRoaXMuZ2V0U2NhbGUoKTtcclxuXHRcdFx0dGhpcy5lbmRHYW1lID0gdGhpcy5zY2FsZSA9PSAyMiA/IHRydWUgOiBmYWxzZTtcclxuXHRcdFx0dGhpcy5nZXRDeURlbGV0ZWRDaXJjbGUoKTtcclxuXHJcblx0XHRcdHRoaXMuZGVsZXRlQ2lyY2xlcy5mb3JFYWNoKCBlbGVtID0+IHtcclxuXHRcdFx0XHRsZXQgY3hfZWxlbSA9IGVsZW0uZ2V0QXR0cmlidXRlKFwiY3hcIiksXHJcblx0XHRcdFx0XHRjeV9lbGVtID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJjeVwiKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRpZiAoY3ggPT0gY3hfZWxlbSAmJiBjeSA9PSBjeV9lbGVtKSB7XHJcblx0XHRcdFx0XHRlbGVtLmNsYXNzTGlzdC5yZW1vdmUoYCR7dGhpcy5jb2xvckRlbGV0ZX1gKTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0bGV0IGRlbGV0ZUNvbG9yID0gdGhpcy5jb2xvckRlbGV0ZTtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHR0aGF0LmNyZWF0ZUNsb25lRGVsZXRlZENpcmNsZShkZWxldGVDb2xvciwgZWxlbSk7XHJcblx0XHRcdFx0XHR9LCA2MDApO1xyXG5cclxuXHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0dGhhdC5kZWxldGVFbGVtKGVsZW0pO1xyXG5cdFx0XHRcdFx0fSwzNTApO1xyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHR0aGlzLmVuZEdhbWUgJiYgc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHR0aGF0LmdhbWVPdmVyKCk7XHJcblx0XHRcdFx0XHR9LCA5MDApOyBcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAoKyt0aGlzLmluZGV4IDwgdGhpcy5yb3V0ZS5sZW5ndGggJiYgc3RvcCkge1xyXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0dGhhdC5zdGFydE1vdmUoKTtcclxuXHRcdFx0fSwgMTgwKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMucmVtb3ZlRWxlbWVudChcImFjdGl2ZVJlY3RcIik7XHJcblx0XHRcdHRoaXMucmVtb3ZlRWxlbWVudChcInJvdXRlX19wb2x5bGluZVwiKTtcclxuXHRcdFx0dGhpcy5yZW1vdmVFbGVtZW50KFwicm91dGVDaXJjbGVcIik7XHJcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoXCJkZWxldGVcIik7XHJcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcblx0XHRcdHRoaXMucmVtb3ZlQ2xhc3MoXCJsYXN0TW92ZWRcIik7XHJcblx0XHRcdHRoaXMuYWRkQ2xhc3NMYXN0TW92ZWQoZWxlbWVudC5jb2xvcikgO1xyXG5cdFx0XHR0aGlzLm1vdmVBcnJvdyh0aGlzLmNvbG9yRGVsZXRlKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdG1vdmUoY3gsIGN5KSB7XHJcblx0XHRbLi4udGhpcy5hY3RpdmVDaXJjbGVdLmZvckVhY2goIGNoaWxkID0+IHtcclxuXHRcdFx0Y2hpbGQuc2V0QXR0cmlidXRlKFwiY3hcIiwgY3gpO1xyXG5cdFx0XHRjaGlsZC5zZXRBdHRyaWJ1dGUoXCJjeVwiLCBjeSk7XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdGRlbGV0ZUVsZW0gKGVsZW0pe1xyXG5cdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoXCJjeFwiLCBzaXplICogOSk7XHJcblx0XHRlbGVtLnNldEF0dHJpYnV0ZShcImN5XCIsIHRoaXMuY3lfZGVsZXRlKTtcclxuXHR9XHJcblxyXG5cdGNoZWNrUXVlZW4oY3kpIHtcclxuXHRcdGxldCBxdWVlbiA9IChjeSA9PSBzaXplIC8gMiAmJiBlbGVtZW50LmNvbG9yID09PSBcIndoaXRlXCIpIHx8XHJcblx0XHRcdFx0XHQoY3kgPT0gc2l6ZSAqIDcuNSAmJiBlbGVtZW50LmNvbG9yID09PSBcImJsYWNrXCIpO1x0XHJcblx0XHRpZiAocXVlZW4pIHtcclxuXHRcdFx0dGhpcy5jcmVhdGVRdWVlbigpO1xyXG5cdFx0fVx0XHJcblx0fVxyXG5cclxuXHRnZXRkZWxldGVDaXJjbGVzKCkge1xyXG5cdFx0dGhpcy5kZWxldGVDaXJjbGVzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kZWxldGUnKV07XHJcblx0fVxyXG5cclxuXHRnZXRTY2FsZSgpIHtcclxuXHRcdHRoaXMuc2NhbGUgPSAyNCAtIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuY29sb3JEZWxldGV9YCkubGVuZ3RoO1xyXG5cdFx0dGhpcy5zY2FsZSAlIDIgJiYgLS10aGlzLnNjYWxlO1xyXG5cdH1cclxuXHJcblx0Z2V0Q3lEZWxldGVkQ2lyY2xlKCkge1xyXG5cdFx0aWYgKHRoaXMuY29sb3JEZWxldGUgPT09IFwiYmxhY2tcIikge1xyXG5cdFx0XHR0aGlzLmN5X2RlbGV0ZSA9IHNpemUqNy41IC0gc2l6ZS81ICogdGhpcy5zY2FsZS8yO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5jeV9kZWxldGUgPSBzaXplLzIgKyBzaXplLzUgKiB0aGlzLnNjYWxlLzI7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRzdG9wTW92ZSgpIHtcclxuXHRcdGxldCBzdG9wID0gdGhpcy5yb3V0ZVt0aGlzLmluZGV4XS5jeCA9PSB0aGlzLmN4X2VuZCAmJiBcclxuXHRcdFx0dGhpcy5yb3V0ZVt0aGlzLmluZGV4XS5jeSA9PSB0aGlzLmN5X2VuZDtcclxuXHRcdHJldHVybiAgc3RvcDtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsaWNrUmVjdChlKSB7XHJcblx0bGV0IG1vdmVDaGVja2VyID0gbmV3IE1vdmVDaGVja2VyKHRoaXMpO1xyXG5cdFx0bW92ZUNoZWNrZXIuc2V0RmluYWxSb3V0ZSgpO1xyXG5cdFx0bW92ZUNoZWNrZXIuc3RhcnRNb3ZlKCk7XHJcbn0iLCJjbGFzcyBEcmF3Um91dGUgIGV4dGVuZHMgQ3JlYXRlQm9hcmQge1xyXG5cdGNvbnN0cnVjdG9yKGN4LCBjeSwgY29sb3IsIHF1ZWVuKSB7XHJcblx0XHRzdXBlcigpO1xyXG5cdFx0dGhpcy5zaW1wbGVNb3ZlQ29vcmRzID0gW107XHJcblx0fVxyXG5cclxuXHRkcmF3Um91dGVDaXJjbGVzKGN4LCBjeSwgZmlsbCwgc3Ryb2tlLCBzdHJva2VXaWR0aCkge1xyXG5cdFx0dGhpcy5zZXRBdHRyaWJ1dGVzQ2lyY2xlKFwicm91dGVDaXJjbGVcIiwgXCJyb3V0ZVBhcmVudFwiLCBjeCwgY3ksIHNpemUvNywgZmlsbCwgc3Ryb2tlLCAxKTtcclxuXHRcdHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwic2xvd01vdmVcIik7XHJcblx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQ2lyY2xlLCBmYWxzZSk7XHJcblx0fVxyXG5cclxuXHRkcmF3Um91dGVQb2x5bGluZXMocG9pbnRzLCBzdHJva2Upe1xyXG5cdFx0dGhpcy5zZXRBdHRyaWJ1dGVzUG9seWxpbmUoXCJyb3V0ZV9fcG9seWxpbmVcIiwgXCJyb3V0ZVBhcmVudFwiLCBwb2ludHMsIHN0cm9rZSk7XHJcblx0fVxyXG5cclxuXHRkcmF3Um91dGVSZWN0KHgsIHksIHN0cm9rZSkge1xyXG5cdFx0dGhpcy5zZXRBdHRyaWJ1dGVzUmVjdChcImFjdGl2ZVJlY3RcIiwgXCJhY3RpdmVSZWN0UGFyZW50XCIsIHNpemUsIHNpemUsIHgsIHksIFwiI0IwNDYzMlwiLCBzdHJva2UsIDMpO1xyXG5cdFx0dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja1JlY3QsIGZhbHNlKTsgXHJcblx0fVxyXG5cclxuXHRmaW5kQW5kU29ydENvb3JkcyhjeCwgY3ksIGNvbG9yLCBxdWVlbikge1xyXG5cdFx0W1widG9wTGVmdFwiLCBcInRvcFJpZ3RoXCIsIFwibG93TGVmdFwiLCBcImxvd1JpZ3RoXCJdLmZvckVhY2goIHJvdXRlID0+IHtcclxuXHRcdGxldCBbbW92ZSwgcmVtb3ZlLCBzaW1wbGVNb3ZlXSA9IGZpbmRDb29yZHMoY3gsIGN5LCBjb2xvciwgcm91dGUsIHF1ZWVuLCB0cnVlKTtcclxuXHRcdFx0aWYgKGVsZW1lbnQuc3BlY2lhbFJlbW92ZS5sZW5ndGgpIHtcclxuXHRcdFx0XHRyZW1vdmUgPSBlbGVtZW50LnNwZWNpYWxSZW1vdmU7XHJcblx0XHRcdFx0bW92ZSA9IGVsZW1lbnQuc3BlY2lhbE1vdmU7XHJcblx0XHRcdFx0ZWxlbWVudC5zcGVjaWFsUmVtb3ZlID0gW107XHJcblx0XHRcdFx0ZWxlbWVudC5zcGVjaWFsTW92ZSA9IFtdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChyZW1vdmUubGVuZ3RoKSB7IFxyXG5cdFx0XHRcdHNvcnRDb29yZHMocmVtb3ZlLCBtb3ZlLCAwLCAwLCAwKTtcclxuXHRcdFx0fSBlbHNlIGlmIChzaW1wbGVNb3ZlLmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMuc2ltcGxlTW92ZUNvb3Jkcy5wdXNoKHNpbXBsZU1vdmUpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHNldFNpbXBsZU1vdmVDb29yZHMoKSB7XHJcblx0XHRpZiAoIWVsZW1lbnQuY29vcmRzTW92ZS5sZW5ndGgpIHtcclxuXHRcdFx0dGhpcy5zaW1wbGVNb3ZlQ29vcmRzLmZvckVhY2goIGl0ZW0gPT4ge1xyXG5cdFx0XHRcdGVsZW1lbnQuY29vcmRzTW92ZS5wdXNoKGl0ZW0pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGRyYXdFbGVtZW50c1JvdXRlKCkge1xyXG5cdFx0bGV0IHN0cm9rZSA9IGVsZW1lbnQuZWxlbS5nZXRBdHRyaWJ1dGUoXCJzdHJva2VcIik7XHJcblx0XHQgXHRcclxuXHRcdGVsZW1lbnQuY29vcmRzTW92ZS5mb3JFYWNoKCBlbGVtID0+IHtcclxuXHRcdFx0bGV0IHBvaW50c0xpbmUgPSBbXTtcclxuXHJcblx0IFx0XHRlbGVtLmZvckVhY2goIGl0ZW0gPT4ge1xyXG5cdFx0XHRcdHBvaW50c0xpbmUucHVzaChgJHtpdGVtLmN4fSwke2l0ZW0uY3l9YCk7XHJcblx0XHRcdFx0aWYgKGl0ZW0uZmxhZyA9PSBcIm1vdmVcIikge1xyXG5cdFx0XHRcdFx0dGhpcy5kcmF3Um91dGVDaXJjbGVzKGl0ZW0uY3gsIGl0ZW0uY3ksIHN0cm9rZSwgc3Ryb2tlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0bGV0IHBvaW50cyA9IHBvaW50c0xpbmUuam9pbihcIiBcIik7XHJcblx0XHRcdFx0dGhpcy5kcmF3Um91dGVQb2x5bGluZXMocG9pbnRzLCBzdHJva2UpO1xyXG5cclxuXHRcdCBcdGZvciAodmFyIGkgPSBlbGVtLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHtcclxuXHRcdFx0XHRpZiAoZWxlbVtpXS5mbGFnID09PSBcImRlbGV0ZVwiKSBicmVhaztcclxuXHRcdFx0XHRsZXQgeCA9IGVsZW1baV0uY3ggLSBzaXplLzIsXHJcblx0XHRcdFx0XHR5ID0gZWxlbVtpXS5jeSAtIHNpemUvMjtcclxuXHRcdFx0XHRcdHRoaXMuZHJhd1JvdXRlUmVjdCh4LCB5LCBzdHJva2UpXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2VhcmNoTW92ZShjeCwgY3ksIGNvbG9yLCBxdWVlbil7XHJcblx0ZWxlbWVudC5jb29yZHNNb3ZlID0gW107XHJcblx0XHJcblx0bGV0IGRyYXdSb3V0ZSA9IG5ldyBEcmF3Um91dGU7XHJcblx0XHRkcmF3Um91dGUuZmluZEFuZFNvcnRDb29yZHMoY3gsIGN5LCBjb2xvciwgcXVlZW4pO1xyXG5cdFx0ZHJhd1JvdXRlLnNldFNpbXBsZU1vdmVDb29yZHMoKTtcclxuXHRcdGRyYXdSb3V0ZS5kcmF3RWxlbWVudHNSb3V0ZSgpO1xyXG59IiwiZnVuY3Rpb24gZmluZENvb3Jkcyh4LCB5LCBjb2xvckVsZW0sIHJvdXRlLCBxdWVlbiwgIGZpcnN0RW50ZXIsIHJlbW92ZSwgbW92ZSwgc2ltcGxlTW92ZSwgbmV4dCl7XHJcblx0aWYgKG1vdmUgPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRyZW1vdmUgPSBbXSxcclxuXHRcdG1vdmUgPSBbXSxcclxuXHRcdHNpbXBsZU1vdmUgPSBbXTtcclxuXHRcdHB1c2hDb29yZHNJbkFycigreCwgK3ksIFwibW92ZVwiLCBtb3ZlKTtcclxuXHR9XHJcblxyXG5cdGxldCBbY3gsIGN5LCByb3V0ZVRvcCwgcm91dGVMb3csIHJvdXRlQ29sb3JdID0gc2V0Q29vcmRzKHgsIHksIHJvdXRlKSxcclxuXHRcdFx0bmV4dEVsZW0gPSBmaW5kTmV4dEVsZW0oY3gsIGN5KSxcclxuXHRcdFx0ZnJlZSA9IChuZXh0RWxlbSA9PSBcImZyZWVcIiAmJiBcclxuXHRcdFx0KHF1ZWVuIHx8IGNvbG9yRWxlbSA9PSByb3V0ZUNvbG9yKSkgJiYgXHJcblx0XHRcdChuZXh0ID09IHVuZGVmaW5lZCk7XHJcblxyXG5cdGlmIChmcmVlKSB7XHJcblx0XHRpZiAoIXNpbXBsZU1vdmUubGVuZ3RoKSB7XHJcblx0IFx0XHRwdXNoQ29vcmRzSW5BcnIoK3gsICt5LCBcInN0YXJ0TW92ZVwiLCBzaW1wbGVNb3ZlKTtcclxuXHQgXHR9XHJcblx0XHRcclxuXHRcdHB1c2hDb29yZHNJbkFycihjeCwgY3ksIFwic2ltcGxlTW92ZVwiLCBzaW1wbGVNb3ZlKTtcclxuXHRcdFxyXG5cdFx0aWYgKHF1ZWVuKSB7XHJcblx0ICBcdFx0ZmluZENvb3JkcyhjeCwgY3ksIGNvbG9yRWxlbSwgcm91dGUsIHF1ZWVuLCBudWxsLCByZW1vdmUsIG1vdmUsIHNpbXBsZU1vdmUsICAgbmV4dCk7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmICgobmV4dEVsZW0gPT0gXCJibGFja1wiICYmIGNvbG9yRWxlbSA9PSBcIndoaXRlXCIpIHx8IFxyXG5cdCBcdFx0XHQobmV4dEVsZW0gPT0gXCJ3aGl0ZVwiICYmIGNvbG9yRWxlbSA9PSBcImJsYWNrXCIpKSB7XHJcblx0XHRcclxuXHRcdGxldCBbY3hfYWZ0ZXIsIGN5X2FmdGVyXSA9IHNldENvb3JkcyhjeCwgY3ksIHJvdXRlKSxcclxuXHRcdFx0bmV4dEVsZW0gPSBmaW5kTmV4dEVsZW0oY3hfYWZ0ZXIsIGN5X2FmdGVyKSxcclxuXHRcdFx0c2ltaWxhckVsZW0gPSBzZWFyY2hTaW1pbGFyRGVsZXRlKGN4LCBjeSwgcmVtb3ZlKTtcclxuXHJcblx0XHRpZiAobmV4dEVsZW0gPT0gXCJmcmVlXCIgJiYgIXNpbWlsYXJFbGVtKSAge1xyXG5cdFx0XHRsZXQgc3BlYyA9IHNwZWNpYWxDaGVja1JlbW92ZShyZW1vdmUsIGN4LCBjeSk7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoc3BlYykge1xyXG5cdFx0XHRcdFtyZW1vdmUsIG1vdmVdID0gc3BlY2lhbFNvcnRSZW1vdmUocmVtb3ZlLCBtb3ZlLCBjeCwgY3kpO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0XHRwdXNoQ29vcmRzSW5BcnIoY3gsIGN5LCBcImRlbGV0ZVwiLCByZW1vdmUpO1xyXG5cdFx0XHRhZGRDbGFzc0RlbGV0ZShjeCwgY3kpO1xyXG5cdFx0XHRuZXh0ID0gdHJ1ZTtcclxuXHRcdFx0ZmluZENvb3JkcyhjeCwgY3ksIGNvbG9yRWxlbSwgcm91dGUsIHF1ZWVuLCAgbnVsbCwgcmVtb3ZlLCBtb3ZlLCBzaW1wbGVNb3ZlLCBuZXh0KTtcclxuXHRcdFx0XHJcblx0XHRcdGlmIChzcGVjKSB7XHJcblx0XHRcdFx0ZWxlbWVudC5zcGVjaWFsTW92ZSA9IG1vdmU7XHJcblx0XHRcdFx0ZWxlbWVudC5zcGVjaWFsUmVtb3ZlID0gcmVtb3ZlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHRcclxuXHR9IGVsc2UgaWYgKG5leHRFbGVtID09IFwiZnJlZVwiICYmIG5leHQgIT0gdW5kZWZpbmVkKXtcclxuXHRcdHB1c2hDb29yZHNJbkFycihjeCwgY3ksIFwibW92ZVwiLCBtb3ZlKTtcclxuXHRcdGxldCBbY3hfYWZ0ZXIsIGN5X2FmdGVyXSA9IHNldENvb3JkcyhjeCwgY3ksIHJvdXRlKSxcclxuXHRcdFx0bmV4dEVsZW0gPSBmaW5kTmV4dEVsZW0oY3hfYWZ0ZXIsIGN5X2FmdGVyKTsgXHJcblxyXG5cdFx0aWYgKGN5ID09IHNpemUgLyAyIHx8IGN5ID09IHNpemUgKiA3LjUpIHtcclxuXHRcdFx0cXVlZW4gPSB0cnVlO1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpZiAobmV4dEVsZW0gIT0gXCJmcmVlXCIgfHwgcXVlZW4pIHtcclxuXHRcdFx0ZmluZENvb3JkcyhjeCwgY3ksIGNvbG9yRWxlbSwgcm91dGUsIHF1ZWVuLCBudWxsLCByZW1vdmUsIG1vdmUsIHNpbXBsZU1vdmUsICBuZXh0KTtcclxuXHRcdH1cclxuXHRcdGZpbmRDb29yZHMoY3gsIGN5LCBjb2xvckVsZW0sIHJvdXRlVG9wLCBxdWVlbiwgbnVsbCwgcmVtb3ZlLCBtb3ZlLCBzaW1wbGVNb3ZlKTtcclxuXHRcdGZpbmRDb29yZHMoY3gsIGN5LCBjb2xvckVsZW0sIHJvdXRlTG93LCBxdWVlbiwgbnVsbCwgcmVtb3ZlLCBtb3ZlLCBzaW1wbGVNb3ZlKTtcclxuXHR9XHJcblx0XHRyZXR1cm4gW21vdmUsIHJlbW92ZSwgc2ltcGxlTW92ZV07XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gc2V0Q29vcmRzKGN4LCBjeSwgcm91dGUpIHtcclxuXHRsZXQgcm91dGVUb3AsIHJvdXRlTG93LCByb3V0ZUNvbG9yO1xyXG5cdGlmIChyb3V0ZSA9PT0gXCJ0b3BMZWZ0XCIpIHtcclxuXHRcdGN4ICA9IE1hdGguZmxvb3IoK2N4IC0gc2l6ZSksIFxyXG5cdFx0Y3kgID0gTWF0aC5mbG9vcigrY3kgLSBzaXplKSxcclxuXHRcdHJvdXRlVG9wID0gXCJ0b3BSaWd0aFwiLFxyXG5cdFx0cm91dGVMb3cgPSBcImxvd0xlZnRcIixcclxuXHRcdHJvdXRlQ29sb3IgPSBcIndoaXRlXCI7XHJcblx0fSBlbHNlIGlmIChyb3V0ZSA9PT0gXCJ0b3BSaWd0aFwiKSB7XHJcblx0XHRjeCAgPSBNYXRoLmZsb29yKCtjeCArIHNpemUpLCBcclxuXHRcdGN5ICA9IE1hdGguZmxvb3IoK2N5IC0gc2l6ZSksXHJcblx0XHRyb3V0ZVRvcCA9IFwidG9wTGVmdFwiLFxyXG5cdFx0cm91dGVMb3cgPSBcImxvd1JpZ3RoXCIsXHJcblx0XHRyb3V0ZUNvbG9yID0gXCJ3aGl0ZVwiO1xyXG5cdH0gZWxzZSBpZiAocm91dGUgPT09IFwibG93TGVmdFwiKSB7XHJcblx0XHRjeCAgPSBNYXRoLmZsb29yKCtjeCAtIHNpemUpLCBcclxuXHRcdGN5ICA9IE1hdGguZmxvb3IoK2N5ICsgc2l6ZSk7XHJcblx0XHRyb3V0ZVRvcCA9IFwidG9wTGVmdFwiLFxyXG5cdFx0cm91dGVMb3cgPSBcImxvd1JpZ3RoXCIsXHJcblx0XHRyb3V0ZUNvbG9yID0gXCJibGFja1wiO1xyXG5cdH0gZWxzZSBpZiAocm91dGUgPT09IFwibG93UmlndGhcIikge1xyXG5cdFx0Y3ggID0gTWF0aC5mbG9vcigrY3ggKyBzaXplKSwgXHJcblx0XHRjeSAgICA9IE1hdGguZmxvb3IoK2N5ICsgc2l6ZSk7XHJcblx0XHRyb3V0ZVRvcCA9IFwidG9wUmlndGhcIixcclxuXHRcdHJvdXRlTG93ID0gXCJsb3dMZWZ0XCIsXHJcblx0XHRyb3V0ZUNvbG9yID0gXCJibGFja1wiO1xyXG5cdH1cclxuXHRyZXR1cm4gW2N4LCBjeSwgcm91dGVUb3AsIHJvdXRlTG93LCByb3V0ZUNvbG9yXTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHB1c2hDb29yZHNJbkFycihjeCwgY3ksIGZsYWcsIGFycmF5KSB7XHJcblx0bGV0IG9iaiA9IHtcclxuXHRcdGN4LFxyXG5cdFx0Y3ksXHJcblx0XHRmbGFnXHJcblx0fTtcclxuXHRhcnJheS5wdXNoKG9iaik7XHJcblx0cmV0dXJuIGFycmF5O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gIGZpbmROZXh0RWxlbShjeCwgY3kpe1xyXG5cdGlmICghdmFsaWRDb29yZChjeCwgY3kpKSByZXR1cm4gIGZhbHNlO1xyXG5cdFxyXG5cdGxldCBuZXh0RWxlbSA9IFwiZnJlZVwiLFxyXG5cdFx0Y2lyY2xlID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NpcmNsZScpXTtcclxuXHRcclxuXHR0b3A6XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjaXJjbGUubGVuZ3RoOyBpKyspIHtcclxuXHRcdGxldCBjeE5leHRFbGVtID0gY2lyY2xlW2ldLmdldEF0dHJpYnV0ZShcImN4XCIpLFxyXG5cdFx0XHRcdGN5TmV4dEVsZW0gPSBjaXJjbGVbaV0uZ2V0QXR0cmlidXRlKFwiY3lcIiksXHJcblx0XHRcdFx0Y29sb3JOZXh0RWxlbSA9IGNpcmNsZVtpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3doaXRlJykgPyBcIndoaXRlXCIgOiBcImJsYWNrXCI7XHJcblxyXG5cdFx0aWYgKCBjeE5leHRFbGVtID09IGN4ICYmIGN5TmV4dEVsZW0gPT0gY3kgJiYgY29sb3JOZXh0RWxlbSA9PT0nd2hpdGUnKXtcclxuXHRcdFx0XHRuZXh0RWxlbSA9IFwid2hpdGVcIlxyXG5cdFx0XHRcdGJyZWFrIHRvcDtcclxuXHRcdH0gZWxzZSBpZiAoY3hOZXh0RWxlbSA9PSBjeCAmJiBjeU5leHRFbGVtID09IGN5ICYmIGNvbG9yTmV4dEVsZW0gPT09J2JsYWNrJyl7XHJcblx0XHRcdFx0bmV4dEVsZW0gPSBcImJsYWNrXCI7XHRcdFxyXG5cdFx0XHRcdGJyZWFrIHRvcDtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIG5leHRFbGVtO1xyXG59XHRcclxuXHJcblxyXG5mdW5jdGlvbiB2YWxpZENvb3JkKGN4LCBjeSkge1xyXG5cdHJldHVybiAoKDAgPD0gY3ggJiYgY3ggPD0gc2l6ZSo4KSAmJiBcclxuXHRcdFx0KDAgPD0gY3kgJiYgY3kgPD0gc2l6ZSo4KSkgPyB0cnVlIDogZmFsc2VcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNlYXJjaFNpbWlsYXJEZWxldGUoY3gsIGN5LCBhcnJEZWxldGUpe1xyXG5cdGxldCBzaW1pbGFyID0gZmFsc2U7XHJcblx0YXJyRGVsZXRlLmZvckVhY2goIGVsZW0gPT4ge1xyXG5cdFx0aWYgKGVsZW0uY3ggPT0gY3ggJiYgZWxlbS5jeSA9PSBjeSl7XHJcblx0XHRcdHJldHVybiBzaW1pbGFyID0gdHJ1ZTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRyZXR1cm4gc2ltaWxhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQ2xhc3NEZWxldGUoY3gsIGN5KXtcclxuXHRsZXQgY2lyY2xlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2NpcmNsZScpO1xyXG5cclxuXHRbLi4uY2lyY2xlc10uZm9yRWFjaCggZWxlbSA9PiB7XHJcblx0XHRsZXQgY3hFbGVtID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJjeFwiKSxcclxuXHRcdFx0ICBjeUVsZW0gPSBlbGVtLmdldEF0dHJpYnV0ZShcImN5XCIpO1xyXG5cdFx0aWYgKGN4RWxlbSA9PSBjeCAmJiBjeUVsZW0gPT0gY3kpe1xyXG5cdFx0XHRlbGVtLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZScpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc3BlY2lhbENoZWNrUmVtb3ZlKHJlbW92ZSwgY3gsIGN5KSB7XHJcblx0bGV0IG5laWdoYm9yO1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdG5laWdoYm9yID0gTWF0aC5hYnMocmVtb3ZlW2ldLmN4IC0gY3gpID09IHNpemUgJiZcclxuXHRcdFx0XHRcdE1hdGguYWJzKHJlbW92ZVtpXS5jeSAtIGN5KSA9PSBzaXplO1xyXG5cdFx0XHRpZighbmVpZ2hib3IpIGNvbnRpbnVlO1xyXG5cdFx0XHRicmVhaztcclxuXHR9XHJcblx0cmV0dXJuIG5laWdoYm9yO1xyXG59XHJcblx0XHRcdFx0XHJcblxyXG5mdW5jdGlvbiBzcGVjaWFsU29ydFJlbW92ZShyZW1vdmUsIG1vdmUsIGN4LCBjeSl7XHJcblx0c29ydENvb3JkcyhyZW1vdmUsIG1vdmUsIDAsIDAsIDApO1xyXG5cdFxyXG5cdGxldCBjb29yZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVsZW1lbnQuY29vcmRzTW92ZSkpIDtcclxuXHRcclxuXHR0b3A6XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBjb29yZHMubGVuZ3RoOyBpKyspIHtcclxuXHRcdGxldCBpdGVtQ29vcmRzID0gY29vcmRzW2ldOyBcclxuXHRcdGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBpdGVtQ29vcmRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG5cdFx0XHRcclxuXHRcdFx0bGV0IHZhbGlkID0gaXRlbUNvb3Jkc1tpbmRleF0uY3ggLSBjeCA9PSBzaXplICYmXHJcblx0XHRcdFx0aXRlbUNvb3Jkc1tpbmRleF0uY3kgLSBjeSA9PSBzaXplO1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCF2YWxpZCkgY29udGludWU7XHJcblx0XHRcdFxyXG5cdFx0XHRsZXQgYXJyID0gIGl0ZW1Db29yZHMuc2xpY2UoMCwgaW5kZXggLSAxKTtcclxuXHRcdFx0cmVtb3ZlID0gW107XHJcblx0XHRcdG1vdmUgPSBbXTtcclxuXHRcdFx0XHJcblx0XHRcdGZvciAobGV0IGMgPSAwOyBjIDwgYXJyLmxlbmd0aDsgYysrKSB7XHJcblx0XHRcdFx0aWYgKGFycltjXS5mbGFnID09IFwibW92ZVwiKSB7XHJcblx0XHRcdFx0XHRtb3ZlLnB1c2goYXJyW2NdKTtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKGFycltjXS5mbGFnID09IFwiZGVsZXRlXCIpIHtcclxuXHRcdFx0XHRcdHJlbW92ZS5wdXNoKGFycltjXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrIHRvcDtcclxuXHRcdH1cclxuXHR9XHJcblx0cmV0dXJuIFtyZW1vdmUsIG1vdmVdO1xyXG59IiwiZnVuY3Rpb24gc29ydENvb3JkcyhyZW1vdmUsIG1vdmUsIGluZGV4TW92ZSwgaW5kZXhSZW1vdmUsIGNvdW50LCBxdWVlbiwgaW52YWxpZCwgYXJyKSB7XHJcblx0aWYgKGluZGV4TW92ZSA8IDAgfHwgaW5kZXhSZW1vdmUgPCAwIHx8XHJcblx0XHRpbmRleE1vdmUgKyAxID49IG1vdmUubGVuZ3RoIHx8XHJcblx0XHRpbmRleFJlbW92ZSArIDEgPiByZW1vdmUubGVuZ3RoKSByZXR1cm47XHJcblxyXG5cdGFyciA9PSB1bmRlZmluZWQgPyBhcnIgPSBbXSA6IGZhbHNlO1xyXG5cdFxyXG5cdGxldCBjeF8xID0gbW92ZVtpbmRleE1vdmVdLmN4LFxyXG5cdCAgICBjeV8xID0gbW92ZVtpbmRleE1vdmVdLmN5O1xyXG5cdFxyXG5cdGxldCBjeF8yID0gbW92ZVtpbmRleE1vdmUgKyAxXS5jeCxcclxuXHRcdGN5XzIgPSBtb3ZlW2luZGV4TW92ZSArIDFdLmN5O1xyXG5cdFxyXG5cdGxldCBjeF9taWQgPSByZW1vdmVbaW5kZXhSZW1vdmVdLmN4LFxyXG5cdCAgICBjeV9taWQgPSByZW1vdmVbaW5kZXhSZW1vdmVdLmN5O1xyXG5cdFxyXG5cdGxldCBjeCA9IChjeF8yIC0gY3hfMSkgPiAwID8gY3hfMiAtIHNpemUgOiBcclxuXHRcdFx0ICBjeF8yICsgc2l6ZSxcclxuXHRcdGN5ID0gKGN5XzIgLSBjeV8xKSA+IDAgPyBjeV8yIC0gc2l6ZSA6IFxyXG5cdFx0XHQgIGN5XzIgKyBzaXplO1xyXG5cclxuXHRsZXQgdmFsaWRDeCwgdmFsaWRDeTtcclxuXHRpZiAoaW5kZXhNb3ZlID49IDEpIHtcclxuXHRcdGxldCBjeF8wID0gbW92ZVtpbmRleE1vdmUgLSAxXS5jeCxcclxuXHRcdCAgICBjeV8wID0gbW92ZVtpbmRleE1vdmUgLSAxXS5jeTtcclxuXHRcdGlmICgoY3hfMiAtIGN4XzEpID4gMCkge1xyXG5cdFx0XHRjeCA9IGN4XzIgLSBzaXplO1xyXG5cdFx0XHR2YWxpZEN4ID0gY3hfMSA8PSBjeF8wO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y3ggPSBjeF8yICsgc2l6ZTtcclxuXHRcdFx0dmFsaWRDeCA9IGN4XzEgPj0gY3hfMDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoKGN5XzIgLSBjeV8xKSA+IDApIHtcclxuXHRcdFx0Y3kgPSBjeV8yIC0gc2l6ZTtcclxuXHRcdFx0dmFsaWRDeSA9IGN5XzEgPD0gY3lfMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGN5ID0gY3lfMiArIHNpemU7XHJcblx0XHRcdHZhbGlkQ3kgPSBjeV8xID49IGN5XzA7XHJcblx0XHR9XHJcblx0fVxyXG5cdFx0XHRcdFxyXG5cdGxldCBuZWlnaGJvciA9IChNYXRoLmFicyhjeF8xIC0gY3hfMikgPT0gc2l6ZSkgJiYgXHJcblx0XHRcdFx0ICAgKE1hdGguYWJzKGN5XzEgLSBjeV8yKSA9PSBzaXplKTtcclxuXHRcclxuXHRsZXQgdmFsaWRNb3ZlID0gKGN4ID09IGN4X21pZCkgJiZcclxuXHRcdFx0XHRcdChjeSA9PSBjeV9taWQpICYmXHJcblx0XHRcdFx0XHQoTWF0aC5hYnMoY3hfMSAtIGN4XzIpID09XHJcblx0XHRcdFx0XHRNYXRoLmFicyhjeV8xIC0gY3lfMikpICYmIFxyXG5cdFx0XHRcdFx0KHZhbGlkQ3ggIT0gdHJ1ZSB8fCB2YWxpZEN5ICE9IHRydWUpO1xyXG5cdFx0XHRcdFxyXG5cdGlmIChhcnIubGVuZ3RoID4gMCAmJiBxdWVlbiA9PSB0cnVlKSB7XHJcblx0XHR2YXIgcXVlZW5Nb3ZlVmFsaWQgPSBhcnJbYXJyLmxlbmd0aCAtIDEgLSBjb3VudF0uZmxhZyA9PSBcImRlbGV0ZVwiO1xyXG5cdH1cclxuXHJcblx0aWYgKHF1ZWVuTW92ZVZhbGlkKVx0e1xyXG5cdFx0ZWxlbWVudC5jb29yZHNNb3ZlLnB1c2goYXJyKTtcclxuXHRcdHJlbW92ZS5zcGxpY2UoaW5kZXhSZW1vdmUgLSAxLCAxKTtcclxuXHRcdGluZGV4UmVtb3ZlIC09IDE7IFxyXG5cdFx0YXJyID0gW107XHJcblx0XHRxdWVlbiA9IGZhbHNlO1xyXG5cdFx0Y291bnQgPSAwO1xyXG5cdH1cclxuXHJcblx0aWYgKHZhbGlkTW92ZSl7XHJcblx0XHRpZiAoYXJyLmxlbmd0aCA9PSAwKSB7XHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXhNb3ZlOyBpKyspIHtcclxuXHRcdFx0XHR2YXIgZWxlbSA9IG1vdmVbaV07XHJcblx0XHRcdFx0XHRhcnIucHVzaChlbGVtKTtcclxuXHRcdFx0XHRcdGlmKGluZGV4UmVtb3ZlID4gaSkge1xyXG5cdFx0XHRcdFx0XHRlbGVtID0gcmVtb3ZlW2ldO1xyXG5cdFx0XHRcdFx0XHRhcnIucHVzaChlbGVtKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdGlmIChyZW1vdmUubGVuZ3RoID09IGluZGV4UmVtb3ZlICsgMSkge1xyXG5cdFx0XHRpZiAocXVlZW4gJiYgY291bnQgJiYgIXF1ZWVuTW92ZVZhbGlkKSB7XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gYXJyLmxlbmd0aCAtIGNvdW50IC0gMTtcclxuXHRcdFx0XHRhcnIuc3BsaWNlKGluZGV4LCBjb3VudCArIDEpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBlbGVtID0gbW92ZS5zbGljZShpbmRleE1vdmUsIGluZGV4TW92ZSArIDEpO1xyXG5cdFx0XHRcdGFyci5wdXNoKGVsZW1bMF0pO1xyXG5cdFx0XHRcdGVsZW0gPSByZW1vdmUuc2xpY2UoaW5kZXhSZW1vdmUsIGluZGV4UmVtb3ZlICsgMSk7XHJcblx0XHRcdFx0YXJyLnB1c2goZWxlbVswXSk7XHJcblx0XHRcdGlmIChtb3ZlLmxlbmd0aCAtIDEgPiBpbmRleE1vdmUpIHtcclxuXHRcdFx0XHRmb3IgKHZhciBpID0gaW5kZXhNb3ZlICsgMTsgaSA8IG1vdmUubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0YXJyLnB1c2gobW92ZVtpXSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdGVsZW1lbnQuY29vcmRzTW92ZS5wdXNoKGFycik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmIChxdWVlbiAmJiBjb3VudCAmJiAhcXVlZW5Nb3ZlVmFsaWQpIHtcclxuXHRcdFx0XHRcdHZhciBpbmRleCA9IGFyci5sZW5ndGggLSBjb3VudCAtIDE7XHJcblx0XHRcdFx0XHRhcnIuc3BsaWNlKGluZGV4LCBjb3VudCArIDEpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHR2YXIgZWxlbSA9IG1vdmUuc2xpY2UoaW5kZXhNb3ZlLCBpbmRleE1vdmUgKyAxKTtcclxuXHRcdFx0XHRcdGFyci5wdXNoKGVsZW1bMF0pO1xyXG5cdFx0XHRcdFx0ZWxlbSA9IHJlbW92ZS5zbGljZShpbmRleFJlbW92ZSwgaW5kZXhSZW1vdmUgKyAxKTtcclxuXHRcdFx0XHRcdGFyci5wdXNoKGVsZW1bMF0pO1xyXG5cdFx0XHRcdFx0c29ydENvb3JkcyhyZW1vdmUsIG1vdmUsIGluZGV4TW92ZSArIDEsIGluZGV4UmVtb3ZlICsgMSwgMCwgZmFsc2UsIGZhbHNlLCBhcnIpO1xyXG5cdFx0fVxyXG5cdH0gZWxzZSBpZiAobmVpZ2hib3IpIHtcclxuXHRcdHZhciBlbGVtID0gbW92ZS5zbGljZShpbmRleE1vdmUsIGluZGV4TW92ZSArIDEpO1xyXG5cdFx0XHRhcnIucHVzaChlbGVtWzBdKTtcclxuXHRcdHNvcnRDb29yZHMocmVtb3ZlLCBtb3ZlLCBpbmRleE1vdmUgKyAxLCBpbmRleFJlbW92ZSwgY291bnQsIHRydWUsIGZhbHNlLCBhcnIpO1xyXG5cdFxyXG5cdH1lbHNlIGlmICghdmFsaWRNb3ZlKSB7XHJcblx0XHRpZiAocXVlZW4gPT0gdHJ1ZSkge1xyXG5cdFx0XHRpZiAoY291bnQgPT0gMCkge1xyXG5cdFx0XHRcdHZhciBlbGVtID0gbW92ZS5zbGljZShpbmRleE1vdmUsIGluZGV4TW92ZSArIDEpO1xyXG5cdFx0XHRcdGFyci5wdXNoKGVsZW1bMF0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdG1vdmUuc3BsaWNlKGluZGV4TW92ZSwgMSk7XHJcblx0XHRcdHNvcnRDb29yZHMocmVtb3ZlLCBtb3ZlLCBpbmRleE1vdmUgLSAxLCBpbmRleFJlbW92ZSwgY291bnQgKyAxLCB0cnVlLCBmYWxzZSwgYXJyKTtcclxuXHRcdH0gZWxzZSBpZiAoYXJyLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0dmFyIGVsZW0gPSBtb3ZlLnNsaWNlKGluZGV4TW92ZSwgaW5kZXhNb3ZlICsgMSk7XHJcblx0XHRcdFx0YXJyLnB1c2goZWxlbVswXSk7XHJcblx0XHRcdFx0ZWxlbWVudC5jb29yZHNNb3ZlLnB1c2goYXJyKTtcclxuXHRcdH0gXHJcblx0XHRcclxuXHRcdGlmIChxdWVlbiA9PSBmYWxzZSAmJiBpbnZhbGlkID09IGZhbHNlKSB7XHJcblx0XHRcdG1vdmUuc3BsaWNlKGluZGV4TW92ZSwgMSk7XHJcblx0XHRcdHJlbW92ZS5zcGxpY2UoaW5kZXhSZW1vdmUgLSAxLCAxKTtcclxuXHRcdFx0YXJyID0gW107XHJcblx0XHRcdHNvcnRDb29yZHMocmVtb3ZlLCBtb3ZlLCBpbmRleE1vdmUgLSAxLCBpbmRleFJlbW92ZSAtIDEsIDAsIGZhbHNlLCB0cnVlLCBhcnIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bW92ZS5zcGxpY2UoaW5kZXhNb3ZlLCAxKTtcclxuXHRcdFx0YXJyID0gW107XHJcblx0XHRcdHNvcnRDb29yZHMocmVtb3ZlLCBtb3ZlLCBpbmRleE1vdmUgLSAxLCBpbmRleFJlbW92ZSwgMCwgZmFsc2UsIHRydWUsIGFycik7XHJcblx0XHR9XHJcblx0fVxyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
